<!DOCTYPE html><!--aFAwP_wKCd2n5b3zlL2a3--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="https://images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/5SUlANTSunajcJ6oDPFALu/120d33f01bedfd2def7af1e61be3571e/IMG_5305.jpeg"/><link rel="stylesheet" href="/_next/static/css/931b179cff3131dc.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f56e075401be6041.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/bf413bc97a2d8c3a.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/b9c247a1f9d5af8a.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f055e431c58b907b.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-59b2e0708c30977e.js"/><script src="/_next/static/chunks/4bd1b696-cf72ae8a39fa05aa.js" async=""></script><script src="/_next/static/chunks/964-9b249bc0ac5a9a8b.js" async=""></script><script src="/_next/static/chunks/main-app-f320de467931c2a1.js" async=""></script><script src="/_next/static/chunks/778-f9403c0e33e1c074.js" async=""></script><script src="/_next/static/chunks/63-b8ba2254fb9ac97a.js" async=""></script><script src="/_next/static/chunks/231-25f0858d523e67a4.js" async=""></script><script src="/_next/static/chunks/app/blogs/%5Bslug%5D/page-54724afcbd033e4f.js" async=""></script><script src="/_next/static/chunks/app/blogs/page-e29cd712bc204fb8.js" async=""></script><meta name="next-size-adjust" content=""/><link rel="icon" type="image/x-icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"/><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"/><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"/><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><title>Michael Lunzer</title><meta name="description" content="Personal Site"/><meta name="author" content="@michaellunzer"/><meta name="robots" content="index, follow"/><meta property="og:title" content="Michael Lunzer"/><meta property="og:description" content="Personal Site"/><meta property="og:url" content="https://www.michaellunzer.com/"/><meta property="og:site_name" content="Michael Lunzer"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Michael Lunzer"/><meta name="twitter:description" content="Personal Site"/><link rel="stylesheet" href="/style.css"/><link rel="stylesheet" href="/font-awesome.css"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_e8ce0c"><div hidden=""><!--$--><!--/$--></div><header class="site-header "><div class="container"><div class="header-main"><div class="logo"><a href="/"><img src="https://images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png" alt="logo"/></a></div><div class="responsive-menu"><span></span></div><div class="menu"><ul><li><a href="/#home">Home</a></li><li><a href="/#About">About</a></li><li><a href="/#Blogs">Blog</a></li><li><a href="/#Projects">Projects</a></li><li><a href="/#BucketList">Bucket List</a></li><li><a href="/#Contact">Contact</a></li><li><a href="/blogs/">Blogs</a></li><li><a href="/projects/">Projects</a></li><li><a href="/resume/">Resume</a></li><li><a href="/spotify/">Spotify</a></li></ul></div></div></div></header><div><main id="home"><div class="site-container blog-post"><div class="container"><div class="feature-img"><img alt="Sending SMS Messages with Twilio on ESPHome" loading="lazy" width="1500" height="800" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;object-fit:cover;object-position:50% 50%" src="https://images.ctfassets.net/o4gibwve10tr/2w0lBdVCP8Hx7k5uwl3vIi/50f023bab6d77bc44a44b4c5dfdc5352/ESPHome_Twilio_Logos_2.jpg"/></div><div class="details"><h1 class="title">Sending SMS Messages with Twilio on ESPHome</h1><span class="date"><i class="fas fa-calendar-alt"></i> <!-- -->August 2, 2025</span><div class="markdown-content"><p>Sending SMS messages from a microcontroller isn&#x27;t new. There&#x27;s a bunch of examples on the Twilio blog on how to accomplish this -- like this <a href="https://www.twilio.com/blog/sms-doorbell-micropython-twilio" target="_blank" rel="noopener noreferrer" class="markdown-link">one</a> or <a href="https://www.twilio.com/blog/2017/06/build-a-smart-doorbell-with-twilio-and-android-things.html" target="_blank" rel="noopener noreferrer" class="markdown-link">this one</a> and many more around the internet.</p>
<p>Where this is different is by using ESPHome to program the esp8266 instead of micropython or the arduino IDE. As you can probably tell from the Projects section of this website, I&#x27;ve really enjoyed using ESPHome to quickly program devices and set up sensors using YAML.</p>
<p>Ultimately, I&#x27;m hoping to add this to my existing doorbell, giving it SMS capabilities -- more to come soon on that. Here&#x27;s a quick breadboard prototype with a few buttons that trigger an SMS when pressed.</p>
<p><img src="//images.ctfassets.net/o4gibwve10tr/5SUlANTSunajcJ6oDPFALu/120d33f01bedfd2def7af1e61be3571e/IMG_5305.jpeg" alt="twilio doorbell prototype"/></p>
<p>I&#x27;m posting my code below and have commented exactly what you need to do to accomplish this yourself!</p>
<p>One section to highlight is the <code class="inline-code">authorization</code> section in the <code class="inline-code">Header</code>. I figured out that for Basic Authorization, you need to encode your AccountSID and API key in base64.</p>
<p>Take your &lt;Account_SID&gt;:&lt;API_KEY&gt; (make sure to put a colon in between the Account SID and API Key) take it and paste it on <a href="https://www.base64encode.org/" target="_blank" rel="noopener noreferrer" class="markdown-link">this page</a>  and put the resulting string into this form (replacing the xxxxxxxxx with the resulting output from the base64encode website):
<code class="inline-code">Authorization: &quot;Basic xxxxxxxxx&quot;</code></p>
<pre><pre class="code-block"><code class="hljs language-yaml">
<span class="hljs-attr">esphome:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">twilio_doorbell</span>
  <span class="hljs-attr">platform:</span> <span class="hljs-string">ESP8266</span>
  <span class="hljs-attr">board:</span> <span class="hljs-string">huzzah</span>

<span class="hljs-attr">wifi:</span>
  <span class="hljs-attr">ssid:</span> <span class="hljs-string">&quot;network_name&quot;</span>
  <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;network_password&quot;</span>

    <span class="hljs-comment"># Enable fallback hotspot (captive portal) in case wifi connection fails</span>
  <span class="hljs-attr">ap:</span>
    <span class="hljs-attr">ssid:</span> <span class="hljs-string">&quot;Twilio Doorbell Fallback Hotspot&quot;</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;random_password&quot;</span>

<span class="hljs-attr">captive_portal:</span>

<span class="hljs-comment"># Enable logging</span>
<span class="hljs-attr">logger:</span>
  <span class="hljs-comment"># level: VERBOSE  ## not needed anymore</span>

<span class="hljs-comment"># Enable Home Assistant API</span>
<span class="hljs-attr">api:</span>

<span class="hljs-attr">ota:</span>

<span class="hljs-attr">http_request:</span>
  <span class="hljs-attr">useragent:</span> <span class="hljs-string">esphome/device</span>
  <span class="hljs-attr">timeout:</span> <span class="hljs-string">10s</span>

<span class="hljs-comment">#### Button 1</span>
<span class="hljs-attr">binary_sensor:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">gpio</span>
  <span class="hljs-comment">### debounce on the button press</span>
    <span class="hljs-attr">filters:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">delayed_on:</span> <span class="hljs-string">10ms</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">delayed_off:</span> <span class="hljs-string">10ms</span>
    <span class="hljs-attr">pin:</span>
      <span class="hljs-attr">number:</span> <span class="hljs-string">GPIO14</span>
      <span class="hljs-attr">mode:</span> <span class="hljs-string">INPUT_PULLUP</span>
      <span class="hljs-attr">inverted:</span> <span class="hljs-literal">TRUE</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;twilio_doorbell_michael&quot;</span>
    <span class="hljs-attr">device_class:</span> <span class="hljs-string">moving</span>
    <span class="hljs-attr">on_click:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">http_request.post:</span> 
          <span class="hljs-attr">url:</span> <span class="hljs-string">https://api.twilio.com/2010-04-01/Accounts/AC_twilio_account_SID/Messages</span>
          <span class="hljs-attr">headers:</span>
            <span class="hljs-attr">authorization:</span> <span class="hljs-string">&quot;Basic QUM3MT_random_numbers_and_letters_NTVkNWZlZjVjZjE1Yg==&quot;</span> 
            <span class="hljs-comment">### I read on some random blog that Basic Auth needs to be in base64 and it worked! </span>
            <span class="hljs-comment">##### Take your &lt;Account_SID&gt;:&lt;API_KEY&gt; (make sure to put a colon in between the Account SID and API Key) take it and paste it on this page https://www.base64encode.org/  </span>
            <span class="hljs-comment">####### Take the output and paste it in like this: </span>
            <span class="hljs-comment">############# Authorization: &quot;Basic xxxxxxxxx&quot;</span>

            <span class="hljs-attr">Content-Type:</span> <span class="hljs-string">&quot;application/x-www-form-urlencoded&quot;</span> <span class="hljs-comment"># this is the Content-Type they used in this example:    https://www.twilio.com/blog/send-test-http-requests-twilio-sms-postman</span>
          <span class="hljs-attr">body:</span>
            <span class="hljs-string">&quot;To=+16505551234&amp;From=+14155551234&amp;Body=Ding Dong! Someone&#x27;s at your front door!&quot;</span>
            <span class="hljs-comment">##### The body needs to be a string in key=value format separated by &amp; signs: &quot;key1=value1&amp;key2=value2&amp;key3=value3&quot;</span>
          <span class="hljs-attr">verify_ssl:</span> <span class="hljs-literal">false</span>
          <span class="hljs-comment">#### this is a verification of SSL on the device side (not the Twilio side)</span>

</code></pre></pre>
<p>Let me know if you incorporate this into one of your projects! I can see this being useful for water detection sensors and provide urgent SMS notifications if it detects a leak!</p></div></div><div class="post-social"><h6 class="title is-6">Share:</h6><button class="button is-outlined is-rounded facebook"><span class="icon"><i class="fab fa-facebook-f"></i></span><span class="text">Facebook</span></button><button class="button is-outlined is-rounded twitter"><span class="icon"><i class="fab fa-twitter"></i></span><span class="text">Twitter</span></button></div><div class="comments-section"><h3>Comments</h3><p>Comments are currently disabled. Feel free to reach out on social media!</p></div></div></div></main></div><div class="site-footer" id="footer"><div class="container"><span>Copyright © <!-- -->Michael Lunzer<!-- --> <!-- -->2025</span></div></div><!--$--><!--/$--><script src="/_next/static/chunks/webpack-59b2e0708c30977e.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7555,[],\"\"]\n3:I[1295,[],\"\"]\n6:I[9665,[],\"OutletBoundary\"]\n8:I[4911,[],\"AsyncMetadataOutlet\"]\na:I[9665,[],\"ViewportBoundary\"]\nc:I[9665,[],\"MetadataBoundary\"]\nd:\"$Sreact.suspense\"\nf:I[8393,[],\"\"]\n:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/931b179cff3131dc.css\",\"style\"]\n:HL[\"/_next/static/css/f56e075401be6041.css\",\"style\"]\n:HL[\"/_next/static/css/bf413bc97a2d8c3a.css\",\"style\"]\n:HL[\"/_next/static/css/b9c247a1f9d5af8a.css\",\"style\"]\n:HL[\"/_next/static/css/f055e431c58b907b.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"aFAwP_wKCd2n5b3zlL2a3\",\"p\":\"\",\"c\":[\"\",\"blogs\",\"sending-sms-messages-with-twilio-on-esphome\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blogs\",{\"children\":[[\"slug\",\"sending-sms-messages-with-twilio-on-esphome\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/931b179cff3131dc.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f56e075401be6041.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/x-icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"32x32\",\"href\":\"/favicon-32x32.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"180x180\",\"href\":\"/apple-touch-icon-180x180.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"152x152\",\"href\":\"/apple-touch-icon-152x152.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"144x144\",\"href\":\"/apple-touch-icon-144x144.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"120x120\",\"href\":\"/apple-touch-icon-120x120.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"114x114\",\"href\":\"/apple-touch-icon-114x114.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"76x76\",\"href\":\"/apple-touch-icon-76x76.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"72x72\",\"href\":\"/apple-touch-icon-72x72.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"57x57\",\"href\":\"/apple-touch-icon-57x57.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-touch-icon.png\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/style.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/font-awesome.css\"}]]}],[\"$\",\"body\",null,{\"className\":\"__className_e8ce0c\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$L4\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/bf413bc97a2d8c3a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b9c247a1f9d5af8a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[\"blogs\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"sending-sms-messages-with-twilio-on-esphome\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/bf413bc97a2d8c3a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b9c247a1f9d5af8a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f055e431c58b907b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"promise\":\"$@9\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]],[\"$\",\"$Lc\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$d\",null,{\"fallback\":null,\"children\":\"$Le\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$f\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"9:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Personal Site\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"@michaellunzer\"}],[\"$\",\"meta\",\"3\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"Personal Site\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:url\",\"content\":\"https://www.michaellunzer.com/\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:site_name\",\"content\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:title\",\"content\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:description\",\"content\":\"Personal Site\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"e:\"$9:metadata\"\n"])</script><script>self.__next_f.push([1,"10:I[658,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"744\",\"static/chunks/app/blogs/%5Bslug%5D/page-54724afcbd033e4f.js\"],\"default\"]\n11:I[6874,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"156\",\"static/chunks/app/blogs/page-e29cd712bc204fb8.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"$L10\",null,{\"siteInfo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"1vaZauN3G1LbRsJutH3AU9\",\"type\":\"Entry\",\"createdAt\":\"2020-05-28T21:29:56.813Z\",\"updatedAt\":\"2022-04-19T07:19:17.934Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":45,\"revision\":18,\"contentType\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"ContentType\",\"id\":\"siteInformation\"}},\"locale\":\"en-US\"},\"fields\":{\"siteName\":\"Michael Lunzer\",\"siteUrl\":\"https://michaellunzer.com\",\"logo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"7yHuAa09NVOcZ25POk7cbM\",\"type\":\"Asset\",\"createdAt\":\"2020-05-28T21:29:46.445Z\",\"updatedAt\":\"2020-07-03T23:34:40.696Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":35,\"revision\":10,\"locale\":\"en-US\"},\"fields\":{\"title\":\"ML-logo-white\",\"file\":{\"url\":\"//images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png\",\"details\":{\"size\":31304,\"image\":{\"width\":319,\"height\":302}},\"fileName\":\"ML-logo-white.png\",\"contentType\":\"image/png\"}}},\"twiteerHandle\":\"@michaellunzer\",\"siteDescription\":\"Personal Site\",\"menus\":[\"Blogs\",\"Photos\",\"About\",\"Contact\",\"Work\",\"Map\",\"Resume\",\"Projects\",\"Bucket List\",\"Spotify\"]}},\"children\":[null,[\"$\",\"div\",null,{\"className\":\"site-container\",\"children\":[\"$\",\"div\",null,{\"className\":\"container\",\"children\":[\"$\",\"div\",null,{\"className\":\"row\",\"children\":[\"$\",\"div\",null,{\"className\":\"col-sm-12 text-center\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"404 - Page Not Found\"}],[\"$\",\"p\",null,{\"children\":\"The page you're looking for doesn't exist.\"}],[\"$\",\"$L11\",null,{\"href\":\"/\",\"className\":\"btn btn-primary\",\"children\":\"Go back home\"}]]}]}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"12:I[3063,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"744\",\"static/chunks/app/blogs/%5Bslug%5D/page-54724afcbd033e4f.js\"],\"Image\"]\n13:I[2370,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"744\",\"static/chunks/app/blogs/%5Bslug%5D/page-54724afcbd033e4f.js\"],\"default\"]\n14:Te8a,"])</script><script>self.__next_f.push([1,"Sending SMS messages from a microcontroller isn't new. There's a bunch of examples on the Twilio blog on how to accomplish this -- like this [one](https://www.twilio.com/blog/sms-doorbell-micropython-twilio) or [this one](https://www.twilio.com/blog/2017/06/build-a-smart-doorbell-with-twilio-and-android-things.html) and many more around the internet.\n\nWhere this is different is by using ESPHome to program the esp8266 instead of micropython or the arduino IDE. As you can probably tell from the Projects section of this website, I've really enjoyed using ESPHome to quickly program devices and set up sensors using YAML. \n\nUltimately, I'm hoping to add this to my existing doorbell, giving it SMS capabilities -- more to come soon on that. Here's a quick breadboard prototype with a few buttons that trigger an SMS when pressed. \n\n![twilio doorbell prototype](//images.ctfassets.net/o4gibwve10tr/5SUlANTSunajcJ6oDPFALu/120d33f01bedfd2def7af1e61be3571e/IMG_5305.jpeg)\n\nI'm posting my code below and have commented exactly what you need to do to accomplish this yourself! \n\nOne section to highlight is the `authorization` section in the `Header`. I figured out that for Basic Authorization, you need to encode your AccountSID and API key in base64.\n\nTake your \u003cAccount_SID\u003e:\u003cAPI_KEY\u003e (make sure to put a colon in between the Account SID and API Key) take it and paste it on [this page](https://www.base64encode.org/)  and put the resulting string into this form (replacing the xxxxxxxxx with the resulting output from the base64encode website):\n    `Authorization: \"Basic xxxxxxxxx\"`\n\n```yaml\n\nesphome:\n  name: twilio_doorbell\n  platform: ESP8266\n  board: huzzah\n\nwifi:\n  ssid: \"network_name\"\n  password: \"network_password\"\n\n    # Enable fallback hotspot (captive portal) in case wifi connection fails\n  ap:\n    ssid: \"Twilio Doorbell Fallback Hotspot\"\n    password: \"random_password\"\n\ncaptive_portal:\n\n# Enable logging\nlogger:\n  # level: VERBOSE  ## not needed anymore\n\n# Enable Home Assistant API\napi:\n\nota:\n\nhttp_request:\n  useragent: esphome/device\n  timeout: 10s\n\n#### Button 1\nbinary_sensor:\n  - platform: gpio\n  ### debounce on the button press\n    filters:\n    - delayed_on: 10ms\n    - delayed_off: 10ms\n    pin:\n      number: GPIO14\n      mode: INPUT_PULLUP\n      inverted: TRUE\n    name: \"twilio_doorbell_michael\"\n    device_class: moving\n    on_click:\n      - http_request.post: \n          url: https://api.twilio.com/2010-04-01/Accounts/AC_twilio_account_SID/Messages\n          headers:\n            authorization: \"Basic QUM3MT_random_numbers_and_letters_NTVkNWZlZjVjZjE1Yg==\" \n            ### I read on some random blog that Basic Auth needs to be in base64 and it worked! \n            ##### Take your \u003cAccount_SID\u003e:\u003cAPI_KEY\u003e (make sure to put a colon in between the Account SID and API Key) take it and paste it on this page https://www.base64encode.org/  \n            ####### Take the output and paste it in like this: \n            ############# Authorization: \"Basic xxxxxxxxx\"\n\n            Content-Type: \"application/x-www-form-urlencoded\" # this is the Content-Type they used in this example:    https://www.twilio.com/blog/send-test-http-requests-twilio-sms-postman\n          body:\n            \"To=+16505551234\u0026From=+14155551234\u0026Body=Ding Dong! Someone's at your front door!\"\n            ##### The body needs to be a string in key=value format separated by \u0026 signs: \"key1=value1\u0026key2=value2\u0026key3=value3\"\n          verify_ssl: false\n          #### this is a verification of SSL on the device side (not the Twilio side)\n\n```\n\nLet me know if you incorporate this into one of your projects! I can see this being useful for water detection sensors and provide urgent SMS notifications if it detects a leak! "])</script><script>self.__next_f.push([1,"5:[\"$\",\"$L10\",null,{\"siteInfo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"1vaZauN3G1LbRsJutH3AU9\",\"type\":\"Entry\",\"createdAt\":\"2020-05-28T21:29:56.813Z\",\"updatedAt\":\"2022-04-19T07:19:17.934Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":45,\"revision\":18,\"contentType\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"ContentType\",\"id\":\"siteInformation\"}},\"locale\":\"en-US\"},\"fields\":{\"siteName\":\"Michael Lunzer\",\"siteUrl\":\"https://michaellunzer.com\",\"logo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"7yHuAa09NVOcZ25POk7cbM\",\"type\":\"Asset\",\"createdAt\":\"2020-05-28T21:29:46.445Z\",\"updatedAt\":\"2020-07-03T23:34:40.696Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":35,\"revision\":10,\"locale\":\"en-US\"},\"fields\":{\"title\":\"ML-logo-white\",\"file\":{\"url\":\"//images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png\",\"details\":{\"size\":31304,\"image\":{\"width\":319,\"height\":302}},\"fileName\":\"ML-logo-white.png\",\"contentType\":\"image/png\"}}},\"twiteerHandle\":\"@michaellunzer\",\"siteDescription\":\"Personal Site\",\"menus\":[\"Blogs\",\"Photos\",\"About\",\"Contact\",\"Work\",\"Map\",\"Resume\",\"Projects\",\"Bucket List\",\"Spotify\"]}},\"children\":[null,[\"$\",\"div\",null,{\"className\":\"site-container blog-post\",\"children\":[\"$\",\"div\",null,{\"className\":\"container\",\"children\":[[\"$\",\"div\",null,{\"className\":\"feature-img\",\"children\":[\"$\",\"$L12\",null,{\"src\":\"https://images.ctfassets.net/o4gibwve10tr/2w0lBdVCP8Hx7k5uwl3vIi/50f023bab6d77bc44a44b4c5dfdc5352/ESPHome_Twilio_Logos_2.jpg\",\"alt\":\"Sending SMS Messages with Twilio on ESPHome\",\"width\":1500,\"height\":800,\"className\":\"img-fluid\",\"style\":{\"objectFit\":\"cover\",\"objectPosition\":\"50% 50%\"}}]}],[\"$\",\"div\",null,{\"className\":\"details\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"title\",\"children\":\"Sending SMS Messages with Twilio on ESPHome\"}],[\"$\",\"span\",null,{\"className\":\"date\",\"children\":[[\"$\",\"i\",null,{\"className\":\"fas fa-calendar-alt\"}],\" \",\"August 2, 2025\"]}],[\"$\",\"$L13\",null,{\"content\":\"$14\"}]]}],\"$L15\",\"$L16\"]}]}]]}]\n"])</script><script>self.__next_f.push([1,"17:I[5183,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"744\",\"static/chunks/app/blogs/%5Bslug%5D/page-54724afcbd033e4f.js\"],\"default\"]\n15:[\"$\",\"$L17\",null,{\"socialConfig\":{\"siteurl\":\"https://michaellunzer.com\",\"twitterHandle\":\"@michaellunzer\",\"config\":{\"url\":\"https://michaellunzer.com/blogs/sending-sms-messages-with-twilio-on-esphome\",\"title\":\"Sending SMS Messages with Twilio on ESPHome\"}}}]\n16:[\"$\",\"div\",null,{\"className\":\"comments-section\",\"children\":[[\"$\",\"h3\",null,{\"children\":\"Comments\"}],[\"$\",\"p\",null,{\"children\":\"Comments are currently disabled. Feel free to reach out on social media!\"}]]}]\n"])</script></body></html>