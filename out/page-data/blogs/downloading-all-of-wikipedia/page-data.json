{"componentChunkName":"component---src-templates-blog-post-js","path":"/blogs/downloading-all-of-wikipedia","result":{"data":{"contentfulBlogs":{"id":"4157c34d-30fe-5966-b543-0a84516aadd5","title":"Downloading All of Wikipedia","slug":"downloading-all-of-wikipedia","featureImage":{"gatsbyImageData":{"images":{"sources":[{"srcSet":"https://images.ctfassets.net/o4gibwve10tr/5lOXRSBJnvRApk9O6GVis1/6e4bee34f01ac461aa1895de38fcee4c/Downloading_Wikipedia.jpg?w=320&h=180&q=50&fm=webp 320w,\nhttps://images.ctfassets.net/o4gibwve10tr/5lOXRSBJnvRApk9O6GVis1/6e4bee34f01ac461aa1895de38fcee4c/Downloading_Wikipedia.jpg?w=640&h=360&q=50&fm=webp 640w,\nhttps://images.ctfassets.net/o4gibwve10tr/5lOXRSBJnvRApk9O6GVis1/6e4bee34f01ac461aa1895de38fcee4c/Downloading_Wikipedia.jpg?w=1280&h=720&q=50&fm=webp 1280w","sizes":"(min-width: 1280px) 1280px, 100vw","type":"image/webp"}],"fallback":{"src":"https://images.ctfassets.net/o4gibwve10tr/5lOXRSBJnvRApk9O6GVis1/6e4bee34f01ac461aa1895de38fcee4c/Downloading_Wikipedia.jpg?w=1280&h=720&fl=progressive&q=50&fm=jpg","srcSet":"https://images.ctfassets.net/o4gibwve10tr/5lOXRSBJnvRApk9O6GVis1/6e4bee34f01ac461aa1895de38fcee4c/Downloading_Wikipedia.jpg?w=320&h=180&fl=progressive&q=50&fm=jpg 320w,\nhttps://images.ctfassets.net/o4gibwve10tr/5lOXRSBJnvRApk9O6GVis1/6e4bee34f01ac461aa1895de38fcee4c/Downloading_Wikipedia.jpg?w=640&h=360&fl=progressive&q=50&fm=jpg 640w,\nhttps://images.ctfassets.net/o4gibwve10tr/5lOXRSBJnvRApk9O6GVis1/6e4bee34f01ac461aa1895de38fcee4c/Downloading_Wikipedia.jpg?w=1280&h=720&fl=progressive&q=50&fm=jpg 1280w","sizes":"(min-width: 1280px) 1280px, 100vw"}},"layout":"constrained","backgroundColor":"#1868d8","width":1280,"height":720}},"description":{"childMarkdownRemark":{"html":"<h1>Why?</h1>\n<p>I recently came across <a href=\"https://slate.com/technology/2022/03/russia-wikipedia-download-kiwix.html\">this article</a> explaining why people in Russia are downloading copies of Wikipedia “just in-case”.</p>\n<p>I thought it might be a good idea to capture all of the information on Wikipedia because... <em>gestures broadly around me</em>, sort of like a digital prepper.</p>\n<iframe width=\"100%\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/1VJdluLb_xg?rel=0\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n<p><strong>Also, this is more of an exercise in “why not?” than anything else. I’ll probably delete the 87GB when this 14TB drive gets close to running out of space.</strong></p>\n<h1>Try It Out:</h1>\n<p>Go to <a href=\"https://wikipedia.michaellunzer.com\">https://wikipedia.michaellunzer.com</a> to test out what it's like browsing my offline copy of wikipedia.</p>\n<h1>How:</h1>\n<p>This project leaned heavily on this webpage containing the docker-compose file instructing how to easily spin up the Kiwix server in a container:</p>\n<p><a href=\"https://thehomelab.wiki/books/docker/page/setup-and-install-kiwix-serve-on-debian-systems\">https://thehomelab.wiki/books/docker/page/setup-and-install-kiwix-serve-on-debian-systems</a></p>\n<p>The Homelab Wiki does a great job explaining each .zim file's contents:</p>\n<blockquote>\n<p>What do mini, nopic and maxi mean in the Wikipedia zim files?</p>\n<p>File size is always an issue when downloading such big content, so Kiwix produces each Wikipedia file in three flavours:</p>\n<ul>\n<li><strong>Mini</strong>: only the introduction of each article, plus the infobox. Saves about 95% of space vs. the full version.</li>\n<li><strong>nopic</strong>: full articles, but no images. About 75% smaller than the full version</li>\n<li><strong>Maxi</strong>: the default full version.</li>\n</ul>\n<ol>\n<li>CD into your mapped data directory for the Docker container to download the zim files using wget.</li>\n<li>Add the name of each zim file to your stack.</li>\n<li>Start or deploy the docker stack and enjoy!</li>\n</ol>\n</blockquote>\n<h2>Zim Files:</h2>\n<p>All of wikipedia is contained in a singular .zim file. Check them out here:</p>\n<p><a href=\"http://download.kiwix.org/zim/wikipedia/\">http://download.kiwix.org/zim/wikipedia/</a></p>\n<p><em>Please note that the Zim file that contains all of wikipedia was last updated in <strong>December 2021</strong>. I’m not sure of the update cadence but I’ll check it in a few months and update my file accordingly. I’m also unaware if there is a way to capture incremental changes rather than downloading an incremental change file.</em></p>\n<h2>Docker Compose</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.9\"</span>\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">kiwix-serve</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> kiwix/kiwix<span class=\"token punctuation\">-</span>serve\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /srv/dev<span class=\"token punctuation\">-</span>disk<span class=\"token punctuation\">-</span>by<span class=\"token punctuation\">-</span>label<span class=\"token punctuation\">-</span>Atlantic14TB/wikipedia<span class=\"token punctuation\">:</span>/data\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'8411:80'</span>\n    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span>\n       wikipedia_en_top_mini_2022<span class=\"token punctuation\">-</span>02.zim\n       wikipedia_en_all_maxi_2021<span class=\"token punctuation\">-</span>12.zim</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>"}},"createdAt":"2022-03-25T06:57:31.910Z"},"contentfulSiteInformation":{"siteUrl":"https://michaellunzer.com","twiteerHandle":"@michaellunzer"}},"pageContext":{"slug":"downloading-all-of-wikipedia"}},"staticQueryHashes":["1194089924","1242132861","1746898652","1794736483","425184262","603260039","868401008"]}