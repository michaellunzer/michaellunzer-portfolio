<!DOCTYPE html><!--aFAwP_wKCd2n5b3zlL2a3--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="https://images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/1JpyQhlA3m5hPsj6JX4tj7/744137bc901738f373ca9a53d8f95ebb/IMG_3382.jpg"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/2OpQhH13GK0tMQ9U0Qnu7i/e6073675434e247e70ac3530b0e22302/IMG_3381.jpg"/><link rel="stylesheet" href="/_next/static/css/931b179cff3131dc.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f56e075401be6041.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/bf413bc97a2d8c3a.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/b9c247a1f9d5af8a.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f055e431c58b907b.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-59b2e0708c30977e.js"/><script src="/_next/static/chunks/4bd1b696-cf72ae8a39fa05aa.js" async=""></script><script src="/_next/static/chunks/964-9b249bc0ac5a9a8b.js" async=""></script><script src="/_next/static/chunks/main-app-f320de467931c2a1.js" async=""></script><script src="/_next/static/chunks/778-f9403c0e33e1c074.js" async=""></script><script src="/_next/static/chunks/63-b8ba2254fb9ac97a.js" async=""></script><script src="/_next/static/chunks/231-25f0858d523e67a4.js" async=""></script><script src="/_next/static/chunks/app/projects/%5Bslug%5D/page-54724afcbd033e4f.js" async=""></script><script src="/_next/static/chunks/app/projects/page-e29cd712bc204fb8.js" async=""></script><meta name="next-size-adjust" content=""/><link rel="icon" type="image/x-icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"/><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"/><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"/><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><title>Michael Lunzer</title><meta name="description" content="Personal Site"/><meta name="author" content="@michaellunzer"/><meta name="robots" content="index, follow"/><meta property="og:title" content="Michael Lunzer"/><meta property="og:description" content="Personal Site"/><meta property="og:url" content="https://www.michaellunzer.com/"/><meta property="og:site_name" content="Michael Lunzer"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Michael Lunzer"/><meta name="twitter:description" content="Personal Site"/><link rel="stylesheet" href="/style.css"/><link rel="stylesheet" href="/font-awesome.css"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_e8ce0c"><div hidden=""><!--$--><!--/$--></div><header class="site-header "><div class="container"><div class="header-main"><div class="logo"><a href="/"><img src="https://images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png" alt="logo"/></a></div><div class="responsive-menu"><span></span></div><div class="menu"><ul><li><a href="/#home">Home</a></li><li><a href="/#About">About</a></li><li><a href="/#Blogs">Blog</a></li><li><a href="/#Projects">Projects</a></li><li><a href="/#BucketList">Bucket List</a></li><li><a href="/#Contact">Contact</a></li><li><a href="/blogs/">Blogs</a></li><li><a href="/projects/">Projects</a></li><li><a href="/resume/">Resume</a></li><li><a href="/spotify/">Spotify</a></li></ul></div></div></div></header><div><main id="home"><div class="site-container project-post"><div class="container"><div class="feature-img"><img alt="ESPHome Spotify OLED Display" loading="lazy" width="1500" height="800" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;object-fit:cover;object-position:50% 50%" src="https://images.ctfassets.net/o4gibwve10tr/2OpQhH13GK0tMQ9U0Qnu7i/e6073675434e247e70ac3530b0e22302/IMG_3381.jpg"/></div><div class="details"><h1 class="title">ESPHome Spotify OLED Display</h1><span class="date"><i class="fas fa-calendar-alt"></i> <!-- -->August 2, 2025</span><div class="markdown-content"><h1 class="markdown-h1">Background</h1>
<p>I&#x27;ve created an OLED Display that cycles through the time, what&#x27;s playing on Spotify, and the current temperature based on other ESP8266 sensors in the room. All of this is possible with <a href="https://esphome.io/" target="_blank" rel="noopener noreferrer" class="markdown-link">ESPHome</a> to program the ESP8266 microcontroller (in this case a <a href="https://amzn.to/30qNZJk" target="_blank" rel="noopener noreferrer" class="markdown-link">Wemos D1 Mini</a>) connected to <a href="https://www.home-assistant.io/" target="_blank" rel="noopener noreferrer" class="markdown-link">Home-Assistant</a>.</p>
<p>I later added a feature to make the screen turn blank when a switch on the Home-Assistant Dashboard is flipped, so the screen wouldn&#x27;t illuminate my room at night. Please check the code for the Template Switch at the bottom.</p>
<h1 class="markdown-h1">Instructions</h1>
<ul class="markdown-ul">
<li>
<p>upload the <strong>.tff</strong> fonts like <strong>arial.tff</strong> and the others into the <em><strong>esphome</strong></em> directory on your Home-Assistant instance.</p>
<ul class="markdown-ul">
<li>they can be pulled from your windows font directory or downloaded from the internet.</li>
</ul>
</li>
<li>
<p>create <strong>sensor.spotify_song</strong> and <strong>sensor.spotify_artist</strong> sensors using this yaml and your already configured <a href="https://www.home-assistant.io/components/spotify/" target="_blank" rel="noopener noreferrer" class="markdown-link">spotify media player integration</a>.</p>
</li>
</ul>
<h2 class="markdown-h2">Spotify Sensor YAML Code:</h2>
<pre><pre class="code-block"><code class="hljs language-yaml"><span class="hljs-attr">spotify_song:</span>
  <span class="hljs-attr">friendly_name:</span> <span class="hljs-string">&quot;Spotify Song&quot;</span>
  <span class="hljs-attr">value_template:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">{{ state_attr(&#x27;media_player.spotify&#x27;, &#x27;media_title&#x27;) }}</span>&quot;</span>
</code></pre></pre>
<pre><pre class="code-block"><code class="hljs language-yaml"><span class="hljs-attr">spotify_artist:</span>
  <span class="hljs-attr">friendly_name:</span> <span class="hljs-string">&quot;Spotify Artist&quot;</span>
  <span class="hljs-attr">value_template:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">{{ state_attr(&#x27;media_player.spotify&#x27;, &#x27;media_artist&#x27;) }}</span>&quot;</span>
</code></pre></pre>
<h3 class="markdown-h3">ESPHome YAML Code</h3>
<pre><pre class="code-block"><code class="hljs language-yaml"><span class="hljs-attr">wifi:</span>
  <span class="hljs-attr">ssid:</span> <span class="hljs-string">&quot;wifi_network&quot;</span>
  <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;wifi_password&quot;</span>
  <span class="hljs-comment"># Enable fallback hotspot (captive portal) in case wifi connection fails</span>
  <span class="hljs-attr">ap:</span>
    <span class="hljs-attr">ssid:</span> <span class="hljs-string">&quot;OLED Display01 Fallback Hotspot&quot;</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">&quot;password&quot;</span>
<span class="hljs-attr">captive_portal:</span>
<span class="hljs-comment"># Enable logging</span>
<span class="hljs-attr">logger:</span>
<span class="hljs-comment"># Enable Home Assistant API</span>
<span class="hljs-attr">api:</span>
<span class="hljs-attr">ota:</span>
<span class="hljs-attr">time:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">homeassistant</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">time1</span>
<span class="hljs-attr">text_sensor:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">homeassistant</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">spotify_song</span>
    <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.spotify_song</span>
    <span class="hljs-attr">internal:</span> <span class="hljs-literal">true</span>
 
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">homeassistant</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">spotify_artist</span>
    <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.spotify_artist</span>
    <span class="hljs-attr">internal:</span> <span class="hljs-literal">true</span>
   
<span class="hljs-attr">sensor:</span>
<span class="hljs-comment">### temp sensors</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">homeassistant</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">room_temperature</span>
    <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.sn1_temperature</span>
    <span class="hljs-attr">internal:</span> <span class="hljs-literal">true</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">homeassistant</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">stereo_temperature</span>
    <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.stereo_amp_temperature</span>
    <span class="hljs-attr">internal:</span> <span class="hljs-literal">true</span>
 
<span class="hljs-attr">switch:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">template</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;OLED_Display01 Screen&quot;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">oled_display01_dnd</span>
    <span class="hljs-attr">optimistic:</span> <span class="hljs-literal">True</span>
    <span class="hljs-comment"># inverted: True</span>
    <span class="hljs-attr">on_turn_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">logger.log:</span> <span class="hljs-string">&quot;Switch Turned On!&quot;</span>
      <span class="hljs-comment"># - delay: 2s</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">display.page.show:</span> <span class="hljs-string">page4</span>
      <span class="hljs-comment"># - delay: 2s</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">component.update:</span> <span class="hljs-string">my_display</span>
<span class="hljs-attr">font:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">file:</span> <span class="hljs-string">&#x27;arial.ttf&#x27;</span> <span class="hljs-comment">#&#x27;slkscr.ttf&#x27;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">font1</span>
    <span class="hljs-attr">size:</span> <span class="hljs-number">12</span>
 
  <span class="hljs-bullet">-</span> <span class="hljs-attr">file:</span> <span class="hljs-string">&#x27;BebasNeue-Regular.ttf&#x27;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">font2</span>
    <span class="hljs-attr">size:</span> <span class="hljs-number">48</span>
 
  <span class="hljs-bullet">-</span> <span class="hljs-attr">file:</span> <span class="hljs-string">&#x27;arial.ttf&#x27;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">font3</span>
    <span class="hljs-attr">size:</span> <span class="hljs-number">18</span>
   
  <span class="hljs-bullet">-</span> <span class="hljs-attr">file:</span> <span class="hljs-string">&#x27;arialbd.ttf&#x27;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">font4</span>
    <span class="hljs-attr">size:</span> <span class="hljs-number">14</span>
   
  <span class="hljs-bullet">-</span> <span class="hljs-attr">file:</span> <span class="hljs-string">&#x27;arial.ttf&#x27;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">font5</span>
    <span class="hljs-attr">size:</span> <span class="hljs-number">20</span>
 
<span class="hljs-attr">i2c:</span>
  <span class="hljs-comment"># sda: D1</span>
  <span class="hljs-comment"># scl: D2</span>
  <span class="hljs-comment"># scan: False</span>
  <span class="hljs-comment"># swap for Wemos D1 Mini</span>
  <span class="hljs-attr">sda:</span> <span class="hljs-string">D2</span>
  <span class="hljs-attr">scl:</span> <span class="hljs-string">D1</span>
  <span class="hljs-attr">scan:</span> <span class="hljs-literal">False</span>
 
<span class="hljs-attr">display:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">ssd1306_i2c</span>
    <span class="hljs-attr">model:</span> <span class="hljs-string">&quot;SSD1306 128x64&quot;</span>
    <span class="hljs-attr">reset_pin:</span> <span class="hljs-string">D0</span>
    <span class="hljs-attr">address:</span> <span class="hljs-number">0x3C</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">my_display</span>
    <span class="hljs-attr">pages:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">id:</span> <span class="hljs-string">page1</span>
        <span class="hljs-attr">lambda:</span> <span class="hljs-string">|-
          // Print time in HH:MM format
          it.strftime(0, 60, id(font2), TextAlign::BASELINE_LEFT, &quot;%l:%M&quot;, id(time1).now());
          // Print AM/PM
          it.strftime(127, 60, id(font5), TextAlign::BASELINE_RIGHT, &quot;%P&quot;, id(time1).now());
</span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">id:</span> <span class="hljs-string">page2</span>
        <span class="hljs-attr">lambda:</span> <span class="hljs-string">|-
          // it.print(0, 10, id(font1), &quot;This is page 2!&quot;);
          // Print &quot;Spotify Song&quot; in top center.
          if (id(spotify_artist).has_state()) {
            it.printf(0, 8, id(font5), TextAlign::TOP_LEFT, &quot;%s&quot;, id(spotify_artist).state.c_str());
          }
          if (id(spotify_song).has_state()) {
            it.printf(0, 55, id(font5), TextAlign::BASELINE_LEFT, &quot;%s&quot;, id(spotify_song).state.c_str());
          }
</span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">id:</span> <span class="hljs-string">page3</span>
        <span class="hljs-attr">lambda:</span> <span class="hljs-string">|-
          // it.print(0, 10, id(font1), &quot;This is page 3!&quot;);
          // Print room temperature (from homeassistant sensor)
          if (id(room_temperature).has_state()) {
            it.printf(0, 15, id(font5), TextAlign::TOP_LEFT, &quot;Room: %.1f°&quot;, id(room_temperature).state);
          }
          // Print stereo temperature (from homeassistant sensor)
          if (id(stereo_temperature).has_state()) {
            it.printf(0, 60, id(font5), TextAlign::BASELINE_LEFT, &quot;Stereo: %.1f°&quot;, id(stereo_temperature).state);
          }
</span>      <span class="hljs-bullet">-</span> <span class="hljs-attr">id:</span> <span class="hljs-string">page4</span>
        <span class="hljs-attr">lambda:</span> <span class="hljs-string">|-
          it.print(0, 10, id(font1), &quot;&quot;);
</span> 
<span class="hljs-attr">interval:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">interval:</span> <span class="hljs-string">3s</span>
    <span class="hljs-attr">then:</span>
      <span class="hljs-attr">if:</span>
        <span class="hljs-attr">condition:</span>
          <span class="hljs-attr">lambda:</span> <span class="hljs-string">return</span> <span class="hljs-type">!id(oled_display01_dnd).state;</span>
        <span class="hljs-attr">then:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">display.page.show:</span> <span class="hljs-type">!lambda</span> <span class="hljs-string">|-
              static int pagenum = 0;
              static display::DisplayPage* pages[] = {id(page1), id(page2), id(page3)};
              auto page = pages[pagenum++];
              if (pagenum &gt;= 3)
                pagenum = 0;
              return page;
</span>          <span class="hljs-bullet">-</span> <span class="hljs-attr">component.update:</span> <span class="hljs-string">my_display</span>
</code></pre></pre>
<h3 class="markdown-h3">Template Sensor</h3>
<p>This template sensor inverses the ESPHome Switch. I couldn&#x27;t find a way to invert it natively in ESPHome, so I went this route. Please let me know if you&#x27;ve figured out a better way!</p>
<pre><pre class="code-block"><code class="hljs language-yaml"><span class="hljs-comment">### template switch to reverse the oled_display01 switch</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">template</span>
    <span class="hljs-attr">switches:</span>
      <span class="hljs-attr">oled_display01_inverted:</span>
        <span class="hljs-attr">friendly_name:</span> <span class="hljs-string">&quot;OLED Display&quot;</span>
        <span class="hljs-attr">value_template:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">{{ is_state(&#x27;switch.oled_display01_screen&#x27;, &#x27;off&#x27;) }}</span>&quot;</span>
        <span class="hljs-attr">turn_on:</span>
          <span class="hljs-attr">service:</span> <span class="hljs-string">switch.turn_off</span>
          <span class="hljs-attr">data:</span>
            <span class="hljs-attr">entity_id:</span> <span class="hljs-string">switch.oled_display01_screen</span>
        <span class="hljs-attr">turn_off:</span>
          <span class="hljs-attr">service:</span> <span class="hljs-string">switch.turn_on</span>
          <span class="hljs-attr">data:</span>
            <span class="hljs-attr">entity_id:</span> <span class="hljs-string">switch.oled_display01_screen</span>
        <span class="hljs-attr">icon_template:</span> <span class="hljs-string">&quot;{% if is_state(&#x27;switch.oled_display01_screen&#x27;, &#x27;on&#x27;) %}mdi:flash-outline{% else %}mdi:flash{% endif %}&quot;</span>
</code></pre></pre>
<h3 class="markdown-h3">Final Product</h3>
<p><img src="//images.ctfassets.net/o4gibwve10tr/1JpyQhlA3m5hPsj6JX4tj7/744137bc901738f373ca9a53d8f95ebb/IMG_3382.jpg" alt="ESPHome OLED Display - Temperature"/></p>
<p><img src="//images.ctfassets.net/o4gibwve10tr/2OpQhH13GK0tMQ9U0Qnu7i/e6073675434e247e70ac3530b0e22302/IMG_3381.jpg" alt="ESPHome OLED Display - Spotify"/></p></div></div><div class="post-social"><h6 class="title is-6">Share:</h6><button class="button is-outlined is-rounded facebook"><span class="icon"><i class="fab fa-facebook-f"></i></span><span class="text">Facebook</span></button><button class="button is-outlined is-rounded twitter"><span class="icon"><i class="fab fa-twitter"></i></span><span class="text">Twitter</span></button></div></div></div></main></div><div class="site-footer" id="footer"><div class="container"><span>Copyright © <!-- -->Michael Lunzer<!-- --> <!-- -->2025</span></div></div><!--$--><!--/$--><script src="/_next/static/chunks/webpack-59b2e0708c30977e.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7555,[],\"\"]\n3:I[1295,[],\"\"]\n6:I[9665,[],\"OutletBoundary\"]\n8:I[4911,[],\"AsyncMetadataOutlet\"]\na:I[9665,[],\"ViewportBoundary\"]\nc:I[9665,[],\"MetadataBoundary\"]\nd:\"$Sreact.suspense\"\nf:I[8393,[],\"\"]\n:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/931b179cff3131dc.css\",\"style\"]\n:HL[\"/_next/static/css/f56e075401be6041.css\",\"style\"]\n:HL[\"/_next/static/css/bf413bc97a2d8c3a.css\",\"style\"]\n:HL[\"/_next/static/css/b9c247a1f9d5af8a.css\",\"style\"]\n:HL[\"/_next/static/css/f055e431c58b907b.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"aFAwP_wKCd2n5b3zlL2a3\",\"p\":\"\",\"c\":[\"\",\"projects\",\"esphome-spotify-oled-display\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"projects\",{\"children\":[[\"slug\",\"esphome-spotify-oled-display\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/931b179cff3131dc.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f56e075401be6041.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/x-icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"32x32\",\"href\":\"/favicon-32x32.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"180x180\",\"href\":\"/apple-touch-icon-180x180.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"152x152\",\"href\":\"/apple-touch-icon-152x152.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"144x144\",\"href\":\"/apple-touch-icon-144x144.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"120x120\",\"href\":\"/apple-touch-icon-120x120.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"114x114\",\"href\":\"/apple-touch-icon-114x114.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"76x76\",\"href\":\"/apple-touch-icon-76x76.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"72x72\",\"href\":\"/apple-touch-icon-72x72.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"57x57\",\"href\":\"/apple-touch-icon-57x57.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-touch-icon.png\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/style.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/font-awesome.css\"}]]}],[\"$\",\"body\",null,{\"className\":\"__className_e8ce0c\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$L4\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/bf413bc97a2d8c3a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b9c247a1f9d5af8a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[\"projects\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"esphome-spotify-oled-display\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/bf413bc97a2d8c3a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b9c247a1f9d5af8a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f055e431c58b907b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"promise\":\"$@9\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]],[\"$\",\"$Lc\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$d\",null,{\"fallback\":null,\"children\":\"$Le\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$f\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"9:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Personal Site\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"@michaellunzer\"}],[\"$\",\"meta\",\"3\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"Personal Site\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:url\",\"content\":\"https://www.michaellunzer.com/\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:site_name\",\"content\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:title\",\"content\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:description\",\"content\":\"Personal Site\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"e:\"$9:metadata\"\n"])</script><script>self.__next_f.push([1,"10:I[658,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"419\",\"static/chunks/app/projects/%5Bslug%5D/page-54724afcbd033e4f.js\"],\"default\"]\n11:I[6874,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"893\",\"static/chunks/app/projects/page-e29cd712bc204fb8.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"$L10\",null,{\"siteInfo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"1vaZauN3G1LbRsJutH3AU9\",\"type\":\"Entry\",\"createdAt\":\"2020-05-28T21:29:56.813Z\",\"updatedAt\":\"2022-04-19T07:19:17.934Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":45,\"revision\":18,\"contentType\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"ContentType\",\"id\":\"siteInformation\"}},\"locale\":\"en-US\"},\"fields\":{\"siteName\":\"Michael Lunzer\",\"siteUrl\":\"https://michaellunzer.com\",\"logo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"7yHuAa09NVOcZ25POk7cbM\",\"type\":\"Asset\",\"createdAt\":\"2020-05-28T21:29:46.445Z\",\"updatedAt\":\"2020-07-03T23:34:40.696Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":35,\"revision\":10,\"locale\":\"en-US\"},\"fields\":{\"title\":\"ML-logo-white\",\"file\":{\"url\":\"//images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png\",\"details\":{\"size\":31304,\"image\":{\"width\":319,\"height\":302}},\"fileName\":\"ML-logo-white.png\",\"contentType\":\"image/png\"}}},\"twiteerHandle\":\"@michaellunzer\",\"siteDescription\":\"Personal Site\",\"menus\":[\"Blogs\",\"Photos\",\"About\",\"Contact\",\"Work\",\"Map\",\"Resume\",\"Projects\",\"Bucket List\",\"Spotify\"]}},\"children\":[null,[\"$\",\"div\",null,{\"className\":\"site-container\",\"children\":[\"$\",\"div\",null,{\"className\":\"container\",\"children\":[\"$\",\"div\",null,{\"className\":\"row\",\"children\":[\"$\",\"div\",null,{\"className\":\"col-sm-12 text-center\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"404 - Page Not Found\"}],[\"$\",\"p\",null,{\"children\":\"The page you're looking for doesn't exist.\"}],[\"$\",\"$L11\",null,{\"href\":\"/\",\"className\":\"btn btn-primary\",\"children\":\"Go back home\"}]]}]}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"12:I[3063,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"419\",\"static/chunks/app/projects/%5Bslug%5D/page-54724afcbd033e4f.js\"],\"Image\"]\n13:I[2370,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"419\",\"static/chunks/app/projects/%5Bslug%5D/page-54724afcbd033e4f.js\"],\"default\"]\n14:T17f2,"])</script><script>self.__next_f.push([1,"Background\n==========\n\nI've created an OLED Display that cycles through the time, what's playing on Spotify, and the current temperature based on other ESP8266 sensors in the room. All of this is possible with [ESPHome](https://esphome.io/) to program the ESP8266 microcontroller (in this case a [Wemos D1 Mini](https://amzn.to/30qNZJk)) connected to [Home-Assistant](https://www.home-assistant.io/).\n\nI later added a feature to make the screen turn blank when a switch on the Home-Assistant Dashboard is flipped, so the screen wouldn't illuminate my room at night. Please check the code for the Template Switch at the bottom.\n\nInstructions\n============\n\n-   upload the **.tff** fonts like **arial.tff** and the others into the ***esphome*** directory on your Home-Assistant instance.\n\n    -   they can be pulled from your windows font directory or downloaded from the internet.\n\n-   create **sensor.spotify_song** and **sensor.spotify_artist** sensors using this yaml and your already configured [spotify media player integration](https://www.home-assistant.io/components/spotify/).\n\nSpotify Sensor YAML Code:\n-------------------------\n\n```yaml\nspotify_song:\n  friendly_name: \"Spotify Song\"\n  value_template: \"{{ state_attr('media_player.spotify', 'media_title') }}\"\n```\n\n```yaml\nspotify_artist:\n  friendly_name: \"Spotify Artist\"\n  value_template: \"{{ state_attr('media_player.spotify', 'media_artist') }}\"\n```\n\n### ESPHome YAML Code\n\n```yaml\nwifi:\n  ssid: \"wifi_network\"\n  password: \"wifi_password\"\n  # Enable fallback hotspot (captive portal) in case wifi connection fails\n  ap:\n    ssid: \"OLED Display01 Fallback Hotspot\"\n    password: \"password\"\ncaptive_portal:\n# Enable logging\nlogger:\n# Enable Home Assistant API\napi:\nota:\ntime:\n  - platform: homeassistant\n    id: time1\ntext_sensor:\n  - platform: homeassistant\n    id: spotify_song\n    entity_id: sensor.spotify_song\n    internal: true\n \n  - platform: homeassistant\n    id: spotify_artist\n    entity_id: sensor.spotify_artist\n    internal: true\n   \nsensor:\n### temp sensors\n  - platform: homeassistant\n    id: room_temperature\n    entity_id: sensor.sn1_temperature\n    internal: true\n  - platform: homeassistant\n    id: stereo_temperature\n    entity_id: sensor.stereo_amp_temperature\n    internal: true\n \nswitch:\n  - platform: template\n    name: \"OLED_Display01 Screen\"\n    id: oled_display01_dnd\n    optimistic: True\n    # inverted: True\n    on_turn_on:\n      - logger.log: \"Switch Turned On!\"\n      # - delay: 2s\n      - display.page.show: page4\n      # - delay: 2s\n      - component.update: my_display\nfont:\n  - file: 'arial.ttf' #'slkscr.ttf'\n    id: font1\n    size: 12\n \n  - file: 'BebasNeue-Regular.ttf'\n    id: font2\n    size: 48\n \n  - file: 'arial.ttf'\n    id: font3\n    size: 18\n   \n  - file: 'arialbd.ttf'\n    id: font4\n    size: 14\n   \n  - file: 'arial.ttf'\n    id: font5\n    size: 20\n \ni2c:\n  # sda: D1\n  # scl: D2\n  # scan: False\n  # swap for Wemos D1 Mini\n  sda: D2\n  scl: D1\n  scan: False\n \ndisplay:\n  - platform: ssd1306_i2c\n    model: \"SSD1306 128x64\"\n    reset_pin: D0\n    address: 0x3C\n    id: my_display\n    pages:\n      - id: page1\n        lambda: |-\n          // Print time in HH:MM format\n          it.strftime(0, 60, id(font2), TextAlign::BASELINE_LEFT, \"%l:%M\", id(time1).now());\n          // Print AM/PM\n          it.strftime(127, 60, id(font5), TextAlign::BASELINE_RIGHT, \"%P\", id(time1).now());\n      - id: page2\n        lambda: |-\n          // it.print(0, 10, id(font1), \"This is page 2!\");\n          // Print \"Spotify Song\" in top center.\n          if (id(spotify_artist).has_state()) {\n            it.printf(0, 8, id(font5), TextAlign::TOP_LEFT, \"%s\", id(spotify_artist).state.c_str());\n          }\n          if (id(spotify_song).has_state()) {\n            it.printf(0, 55, id(font5), TextAlign::BASELINE_LEFT, \"%s\", id(spotify_song).state.c_str());\n          }\n      - id: page3\n        lambda: |-\n          // it.print(0, 10, id(font1), \"This is page 3!\");\n          // Print room temperature (from homeassistant sensor)\n          if (id(room_temperature).has_state()) {\n            it.printf(0, 15, id(font5), TextAlign::TOP_LEFT, \"Room: %.1f°\", id(room_temperature).state);\n          }\n          // Print stereo temperature (from homeassistant sensor)\n          if (id(stereo_temperature).has_state()) {\n            it.printf(0, 60, id(font5), TextAlign::BASELINE_LEFT, \"Stereo: %.1f°\", id(stereo_temperature).state);\n          }\n      - id: page4\n        lambda: |-\n          it.print(0, 10, id(font1), \"\");\n \ninterval:\n  - interval: 3s\n    then:\n      if:\n        condition:\n          lambda: return !id(oled_display01_dnd).state;\n        then:\n          - display.page.show: !lambda |-\n              static int pagenum = 0;\n              static display::DisplayPage* pages[] = {id(page1), id(page2), id(page3)};\n              auto page = pages[pagenum++];\n              if (pagenum \u003e= 3)\n                pagenum = 0;\n              return page;\n          - component.update: my_display\n```\n\n### Template Sensor\n\nThis template sensor inverses the ESPHome Switch. I couldn't find a way to invert it natively in ESPHome, so I went this route. Please let me know if you've figured out a better way!\n\n```yaml\n### template switch to reverse the oled_display01 switch\n  - platform: template\n    switches:\n      oled_display01_inverted:\n        friendly_name: \"OLED Display\"\n        value_template: \"{{ is_state('switch.oled_display01_screen', 'off') }}\"\n        turn_on:\n          service: switch.turn_off\n          data:\n            entity_id: switch.oled_display01_screen\n        turn_off:\n          service: switch.turn_on\n          data:\n            entity_id: switch.oled_display01_screen\n        icon_template: \"{% if is_state('switch.oled_display01_screen', 'on') %}mdi:flash-outline{% else %}mdi:flash{% endif %}\"\n```\n\n### Final Product\n\n\n![ESPHome OLED Display - Temperature](//images.ctfassets.net/o4gibwve10tr/1JpyQhlA3m5hPsj6JX4tj7/744137bc901738f373ca9a53d8f95ebb/IMG_3382.jpg)\n\n![ESPHome OLED Display - Spotify](//images.ctfassets.net/o4gibwve10tr/2OpQhH13GK0tMQ9U0Qnu7i/e6073675434e247e70ac3530b0e22302/IMG_3381.jpg)\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"$L10\",null,{\"siteInfo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"1vaZauN3G1LbRsJutH3AU9\",\"type\":\"Entry\",\"createdAt\":\"2020-05-28T21:29:56.813Z\",\"updatedAt\":\"2022-04-19T07:19:17.934Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":45,\"revision\":18,\"contentType\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"ContentType\",\"id\":\"siteInformation\"}},\"locale\":\"en-US\"},\"fields\":{\"siteName\":\"Michael Lunzer\",\"siteUrl\":\"https://michaellunzer.com\",\"logo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"7yHuAa09NVOcZ25POk7cbM\",\"type\":\"Asset\",\"createdAt\":\"2020-05-28T21:29:46.445Z\",\"updatedAt\":\"2020-07-03T23:34:40.696Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":35,\"revision\":10,\"locale\":\"en-US\"},\"fields\":{\"title\":\"ML-logo-white\",\"file\":{\"url\":\"//images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png\",\"details\":{\"size\":31304,\"image\":{\"width\":319,\"height\":302}},\"fileName\":\"ML-logo-white.png\",\"contentType\":\"image/png\"}}},\"twiteerHandle\":\"@michaellunzer\",\"siteDescription\":\"Personal Site\",\"menus\":[\"Blogs\",\"Photos\",\"About\",\"Contact\",\"Work\",\"Map\",\"Resume\",\"Projects\",\"Bucket List\",\"Spotify\"]}},\"children\":[null,[\"$\",\"div\",null,{\"className\":\"site-container project-post\",\"children\":[\"$\",\"div\",null,{\"className\":\"container\",\"children\":[[\"$\",\"div\",null,{\"className\":\"feature-img\",\"children\":[\"$\",\"$L12\",null,{\"src\":\"https://images.ctfassets.net/o4gibwve10tr/2OpQhH13GK0tMQ9U0Qnu7i/e6073675434e247e70ac3530b0e22302/IMG_3381.jpg\",\"alt\":\"ESPHome Spotify OLED Display\",\"width\":1500,\"height\":800,\"className\":\"img-fluid\",\"style\":{\"objectFit\":\"cover\",\"objectPosition\":\"50% 50%\"}}]}],[\"$\",\"div\",null,{\"className\":\"details\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"title\",\"children\":\"ESPHome Spotify OLED Display\"}],[\"$\",\"span\",null,{\"className\":\"date\",\"children\":[[\"$\",\"i\",null,{\"className\":\"fas fa-calendar-alt\"}],\" \",\"August 2, 2025\"]}],[\"$\",\"$L13\",null,{\"content\":\"$14\"}]]}],\"$L15\"]}]}]]}]\n"])</script><script>self.__next_f.push([1,"16:I[5183,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"419\",\"static/chunks/app/projects/%5Bslug%5D/page-54724afcbd033e4f.js\"],\"default\"]\n15:[\"$\",\"$L16\",null,{\"socialConfig\":{\"siteurl\":\"https://michaellunzer.com\",\"twitterHandle\":\"@michaellunzer\",\"config\":{\"url\":\"https://michaellunzer.com/projects/esphome-spotify-oled-display\",\"title\":\"ESPHome Spotify OLED Display\"}}}]\n"])</script></body></html>