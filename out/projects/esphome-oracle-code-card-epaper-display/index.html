<!DOCTYPE html><!--IoBMdfHoLDtHEYMLnK0Ai--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="https://images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/3Ry5sZT37UtzGqutwEQ9w8/3e65e7a82360037de701fc37d9dbbc35/IMG_4272.jpeg"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/3PcSeOOy7f392aqflN7OWA/7c3d493bbb5d22174e2add6b7d0d2601/IMG_3933.jpeg"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/2mI1QQSiyIa2cT3zhRbmkh/2b8374addd74ab5cbae35cf7012755a5/IMG_4021.jpeg"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/62B49eLAgctXUbm4v1qeRW/47efa2121977eb7b2891f8377f812d06/IMG_4026.jpeg"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/56sBNoSNsXQZ5XdocjSGNK/39764ddc581f2447ce04bc205985e8d1/IMG_4193.jpeg"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/6ZeUg2gEs2LKliWUxQe7b3/6c96e666f76321dc95f1c46e98ac6990/IMG_4254.jpeg"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/1xUfwFWDIH753ct1OQAhk4/b5ecc1d21a15c4ea568602509eb55b7d/IMG_4269.jpeg"/><link rel="stylesheet" href="/_next/static/css/931b179cff3131dc.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f56e075401be6041.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/bf413bc97a2d8c3a.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/b9c247a1f9d5af8a.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f055e431c58b907b.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-59b2e0708c30977e.js"/><script src="/_next/static/chunks/4bd1b696-cf72ae8a39fa05aa.js" async=""></script><script src="/_next/static/chunks/964-9b249bc0ac5a9a8b.js" async=""></script><script src="/_next/static/chunks/main-app-f320de467931c2a1.js" async=""></script><script src="/_next/static/chunks/778-f9403c0e33e1c074.js" async=""></script><script src="/_next/static/chunks/63-b8ba2254fb9ac97a.js" async=""></script><script src="/_next/static/chunks/231-25f0858d523e67a4.js" async=""></script><script src="/_next/static/chunks/app/projects/%5Bslug%5D/page-b84bae1ee5664536.js" async=""></script><script src="/_next/static/chunks/app/projects/page-e2e8a22ab075e965.js" async=""></script><meta name="next-size-adjust" content=""/><link rel="icon" type="image/x-icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"/><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"/><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"/><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><title>Michael Lunzer</title><meta name="description" content="Personal Site"/><meta name="author" content="@michaellunzer"/><meta name="robots" content="index, follow"/><meta property="og:title" content="Michael Lunzer"/><meta property="og:description" content="Personal Site"/><meta property="og:url" content="https://www.michaellunzer.com/"/><meta property="og:site_name" content="Michael Lunzer"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Michael Lunzer"/><meta name="twitter:description" content="Personal Site"/><link rel="stylesheet" href="/style.css"/><link rel="stylesheet" href="/font-awesome.css"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_e8ce0c"><div hidden=""><!--$--><!--/$--></div><header class="site-header "><div class="container"><div class="header-main"><div class="logo"><a href="/"><img src="https://images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png" alt="logo"/></a></div><div class="responsive-menu"><span></span></div><div class="menu"><ul><li><a href="/#home">Home</a></li><li><a href="/#About">About</a></li><li><a href="/#Blogs">Blog</a></li><li><a href="/#Projects">Projects</a></li><li><a href="/#BucketList">Bucket List</a></li><li><a href="/#Contact">Contact</a></li><li><a href="/#Map">Map</a></li><li><a href="/resume/">Resume</a></li><li><a href="/spotify/">Spotify</a></li></ul></div></div></div></header><div><main id="home"><div class="site-container project-post"><div class="container"><div class="feature-img"><img alt="ESPHome Oracle Code Card ePaper Display" loading="lazy" width="1500" height="800" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;object-fit:cover;object-position:50% 50%" src="https://images.ctfassets.net/o4gibwve10tr/3Ry5sZT37UtzGqutwEQ9w8/9a4c50fa9c7f53b42c4f425c5244b5eb/IMG_4272.jpeg"/></div><div class="details"><h1 class="title">ESPHome Oracle Code Card ePaper Display</h1><span class="date"><i class="fas fa-calendar-alt"></i> <!-- -->October 20, 2020</span><div class="markdown-content"><p>I&#x27;m a big fan of ePaper displays - it&#x27;s easier on the eyes compared to LED based displays and is great for low powered devices like Pebble Watches and Kindle eBook readers.</p>
<p>I&#x27;m using an <a href="https://hackaday.com/2018/10/31/corporate-badgelife-oracles-code-card/" target="_blank" rel="noopener noreferrer" class="markdown-link">Oracle Code Card</a> badge <a href="https://learncodeshare.net/2019/09/24/you-went-to-oracle-open-world-19-and-got-a-code-card-now-what/" target="_blank" rel="noopener noreferrer" class="markdown-link">I got at a conference</a>. It has a 2.7 inch display and is based on <a href="https://www.tindie.com/products/squarofumi/badgy-iot-badge/" target="_blank" rel="noopener noreferrer" class="markdown-link">the $29 badgy</a> if you want to do this project yourself.</p>
<h1 class="markdown-h1">Finished Product:</h1>
<p><img src="//images.ctfassets.net/o4gibwve10tr/3Ry5sZT37UtzGqutwEQ9w8/3e65e7a82360037de701fc37d9dbbc35/IMG_4272.jpeg" alt="codecard"/></p>
<h1 class="markdown-h1">The Setup:</h1>
<p>You need to add a couple sensors to home assistant first. You can find the specific file <a href="https://github.com/fredrike/esphome-nodes/blob/master/homeassistant-config/package-display_node.yaml" target="_blank" rel="noopener noreferrer" class="markdown-link">here</a> in @fredrike&#x27;s github page. Add this file to your packages folder inside your config folder. (here: <code class="inline-code">~/config/packages</code>). If you don&#x27;t already have a packages folder, make sure to include this line under the <code class="inline-code">homeassistant:</code> header like so:</p>
<pre><pre class="code-block"><code class="hljs language-yaml"><span class="hljs-attr">homeassistant:</span>
  <span class="hljs-attr">packages:</span> <span class="hljs-type">!include_dir_named</span> <span class="hljs-string">packages</span>
</code></pre></pre>
<h1 class="markdown-h1">Home Assistant Configuration:</h1>
<p>the blank &quot; &quot; squares you see in the config are <a href="https://cdn.materialdesignicons.com/5.4.55/" target="_blank" rel="noopener noreferrer" class="markdown-link">Material Design Icons</a>. Sometimes the icons get lost in translation when copy/pasting them.</p>
<p>If you&#x27;re unable to copy/paste the code below and retain the Material Design Icons, try copying/pasting from here:</p>
<p><a href="https://github.com/fredrike/esphome-nodes/blob/master/homeassistant-config/package-display_node.yaml" target="_blank" rel="noopener noreferrer" class="markdown-link">https://github.com/fredrike/esphome-nodes/blob/master/homeassistant-config/package-display_node.yaml</a></p>
<p>If that doesn&#x27;t work, most of them are commented, so you can copy/paste each individual one from here: <a href="https://cdn.materialdesignicons.com/5.4.55/" target="_blank" rel="noopener noreferrer" class="markdown-link">Material Design Icons</a>.</p>
<p><code class="inline-code">~/config/packages/display_node.yaml</code></p>
<pre><pre class="code-block"><code class="hljs language-yaml"><span class="hljs-attr">sensor:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">moon</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">template</span>
    <span class="hljs-attr">sensors:</span>
      <span class="hljs-attr">moon_tpl:</span>
        <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.moon</span>
        <span class="hljs-attr">value_template:</span> <span class="hljs-string">&gt;-
          {% set map = {
            &quot;new_moon&quot;: &quot;󰽤&quot;,
            &quot;waxing_crecent&quot;: &quot;󰽧&quot;,
            &quot;first_quarter&quot;: &quot;󰽡&quot;,
            &quot;waxing_gibbous&quot;: &quot;󰽨&quot;,
            &quot;full_moon&quot;: &quot;󰽢&quot;,
            &quot;waning_gibbous&quot;: &quot;󰽦&quot;,
            &quot;last_quarter&quot;: &quot;󰽣&quot;,
            &quot;waning_crescent&quot;: &quot;󰽥&quot;
          } %}
          {{- map[states(&#x27;sensor.moon&#x27;)] -}}
</span>  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">template</span>
    <span class="hljs-attr">sensors:</span>
      <span class="hljs-attr">forecast_today:</span>
        <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.time</span>
        <span class="hljs-attr">value_template:</span> <span class="hljs-string">&gt;-
          {% set weather = {
            &quot;clear-day&quot;: &quot;󰖙&quot;, 
            &quot;clear-night&quot;: &quot;󰖔&quot;, 
            &quot;cloudy&quot;: &quot;󰖐&quot;, 
            &quot;rain&quot;: &quot;󰖖&quot;, 
            &quot;sleet&quot;: &quot;󰙿&quot;, 
            &quot;snow&quot;: &quot;󰼶&quot;, 
            &quot;wind&quot;: &quot;󰖞&quot;, 
            &quot;fog&quot;: &quot;󰖑&quot;, 
            &quot;partly-cloudy-day&quot;: &quot;󰖕&quot;, 
            &quot;partly-cloudy-night&quot;: &quot;󰼱&quot; 
          } %}
          {% set base = &#x27;sensor.dark_sky_forecast_&#x27; %}
</span>
          {{<span class="hljs-bullet">-</span> <span class="hljs-string">weather</span>[<span class="hljs-string">states(&#x27;</span>{}<span class="hljs-string">icon_</span>{}<span class="hljs-string">d&#x27;.format(base</span>, <span class="hljs-number">0</span><span class="hljs-string">))</span>] <span class="hljs-string">-</span>}}<span class="hljs-string">;</span>
          {{<span class="hljs-bullet">-</span> <span class="hljs-string">states(&#x27;</span>{}<span class="hljs-string">apparent_temperature&#x27;.format(base))</span> <span class="hljs-string">-</span>}}<span class="hljs-string">°;</span>
          {{<span class="hljs-bullet">-</span> <span class="hljs-string">states(&#x27;</span>{}<span class="hljs-string">precip_probability_</span>{}<span class="hljs-string">d&#x27;.format(base</span>, <span class="hljs-number">0</span><span class="hljs-string">))|int</span> <span class="hljs-string">-</span>}}
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">darksky</span> <span class="hljs-comment">#https://pastebin.com/iX7u4ZSg</span>
    <span class="hljs-attr">api_key:</span> <span class="hljs-type">!secret</span> <span class="hljs-string">darksky_api_key</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">dark_sky_forecast</span>
    <span class="hljs-attr">scan_interval:</span> <span class="hljs-string">&#x27;00:10&#x27;</span>
    <span class="hljs-attr">forecast:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-number">0</span>
      <span class="hljs-bullet">-</span> <span class="hljs-number">1</span>
      <span class="hljs-bullet">-</span> <span class="hljs-number">2</span>
      <span class="hljs-bullet">-</span> <span class="hljs-number">3</span>
      <span class="hljs-bullet">-</span> <span class="hljs-number">4</span>
    <span class="hljs-attr">monitored_conditions:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">icon</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">temperature</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">apparent_temperature</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">temperature_high</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">temperature_low</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">precip_probability</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">precip_intensity</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">template</span>
    <span class="hljs-attr">sensors:</span>
      <span class="hljs-attr">forecast:</span>
        <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.time</span>
        <span class="hljs-attr">value_template:</span> <span class="hljs-string">&gt;-
          {% set dow = {
           0: &quot;Mon&quot;,
           1: &quot;Tue&quot;,
           2: &quot;Wed&quot;,
           3: &quot;Thu&quot;,
           4: &quot;Fri&quot;,
           5: &quot;Sat&quot;,
           6: &quot;Sun&quot;
          } %}
</span>
          {<span class="hljs-string">%</span> <span class="hljs-string">set</span> <span class="hljs-string">weather</span> <span class="hljs-string">=</span> {
            <span class="hljs-attr">&quot;clear-day&quot;:</span> <span class="hljs-string">&quot;mdi:weather-sunny&quot;</span>,
            <span class="hljs-attr">&quot;clear-night&quot;:</span> <span class="hljs-string">&quot;mdi:weather-night&quot;</span>,
            <span class="hljs-attr">&quot;cloudy&quot;:</span> <span class="hljs-string">&quot;mdi:weather-cloudy&quot;</span>,
            <span class="hljs-attr">&quot;rain&quot;:</span> <span class="hljs-string">&quot;mdi:weather-pouring&quot;</span>,
            <span class="hljs-attr">&quot;sleet&quot;:</span> <span class="hljs-string">&quot;mdi:weather-snowy-rainy&quot;</span>,
            <span class="hljs-attr">&quot;snow&quot;:</span> <span class="hljs-string">&quot;mdi:weather-snowy&quot;</span>,
            <span class="hljs-attr">&quot;wind&quot;:</span> <span class="hljs-string">&quot;mdi:weather-windy&quot;</span>,
            <span class="hljs-attr">&quot;fog&quot;:</span> <span class="hljs-string">&quot;mdi:weather-fog&quot;</span>,
            <span class="hljs-attr">&quot;partly-cloudy-day&quot;:</span> <span class="hljs-string">&quot;mdi:weather-partly-cloudy&quot;</span>,
            <span class="hljs-attr">&quot;partly-cloudy-night&quot;:</span> <span class="hljs-string">&quot;mdi:weather-night-partly-cloudy&quot;</span>
          } <span class="hljs-string">%</span>}
          {<span class="hljs-string">%</span> <span class="hljs-string">set</span> <span class="hljs-string">weather</span> <span class="hljs-string">=</span> {
            <span class="hljs-attr">&quot;clear-day&quot;:</span> <span class="hljs-string">&quot;󰖙&quot;</span>, 
            <span class="hljs-attr">&quot;clear-night&quot;:</span> <span class="hljs-string">&quot;󰖔&quot;</span>, 
            <span class="hljs-attr">&quot;cloudy&quot;:</span> <span class="hljs-string">&quot;󰖐&quot;</span>, 
            <span class="hljs-attr">&quot;rain&quot;:</span> <span class="hljs-string">&quot;󰖖&quot;</span>, 
            <span class="hljs-attr">&quot;sleet&quot;:</span> <span class="hljs-string">&quot;󰙿&quot;</span>, 
            <span class="hljs-attr">&quot;snow&quot;:</span> <span class="hljs-string">&quot;󰼶&quot;</span>, 
            <span class="hljs-attr">&quot;wind&quot;:</span> <span class="hljs-string">&quot;󰖞&quot;</span>, 
            <span class="hljs-attr">&quot;fog&quot;:</span> <span class="hljs-string">&quot;󰖑&quot;</span>, 
            <span class="hljs-attr">&quot;partly-cloudy-day&quot;:</span> <span class="hljs-string">&quot;󰖕&quot;</span>, 
            <span class="hljs-attr">&quot;partly-cloudy-night&quot;:</span> <span class="hljs-string">&quot;󰼱&quot;</span> 
          } <span class="hljs-string">%</span>}

          {<span class="hljs-string">%</span> <span class="hljs-string">set</span> <span class="hljs-string">base</span> <span class="hljs-string">=</span> <span class="hljs-string">&#x27;sensor.dark_sky_forecast_&#x27;</span> <span class="hljs-string">%</span>}

          {<span class="hljs-string">%-</span> <span class="hljs-string">for</span> <span class="hljs-string">i</span> <span class="hljs-string">in</span> [ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>] <span class="hljs-string">-%</span>}
            {{ <span class="hljs-string">dow</span>[<span class="hljs-string">(now().weekday()</span> <span class="hljs-string">+</span> <span class="hljs-string">i)</span> <span class="hljs-string">%</span> <span class="hljs-number">7</span>]  }}<span class="hljs-string">;</span>
            {{<span class="hljs-bullet">-</span> <span class="hljs-string">weather</span>[<span class="hljs-string">states(&#x27;</span>{}<span class="hljs-string">icon_</span>{}<span class="hljs-string">d&#x27;.format(base</span>, <span class="hljs-string">i))</span>] <span class="hljs-string">-</span>}}<span class="hljs-string">;</span>
            {{<span class="hljs-bullet">-</span> <span class="hljs-string">states(&#x27;</span>{}<span class="hljs-string">daytime_high_temperature_</span>{}<span class="hljs-string">d&#x27;.format(base</span>, <span class="hljs-string">i))|int</span>
            <span class="hljs-string">-</span>}}<span class="hljs-string">°/</span>
            {{<span class="hljs-bullet">-</span> <span class="hljs-string">states(&#x27;</span>{}<span class="hljs-string">overnight_low_temperature_</span>{}<span class="hljs-string">d&#x27;.format(base</span>, <span class="hljs-string">i))|int</span> <span class="hljs-string">-</span>}}<span class="hljs-string">°;</span>
            {{<span class="hljs-bullet">-</span> <span class="hljs-string">states(&#x27;</span>{}<span class="hljs-string">precip_probability_</span>{}<span class="hljs-string">d&#x27;.format(base</span>, <span class="hljs-string">i))|int</span> <span class="hljs-string">-</span>}}<span class="hljs-string">%</span>
            {<span class="hljs-string">%-</span> <span class="hljs-string">if</span> <span class="hljs-string">not</span> <span class="hljs-string">loop.last</span> <span class="hljs-string">%</span>}<span class="hljs-string">;{%</span> <span class="hljs-string">endif</span> <span class="hljs-string">%}</span>
          {<span class="hljs-string">%-</span> <span class="hljs-string">endfor</span> <span class="hljs-string">%</span>}
</code></pre></pre>
<h1 class="markdown-h1">ESPHome Code:</h1>
<p>If you&#x27;re unable to copy/paste the code below and retain the Material Design Icons, try copying/pasting from here:</p>
<p><a href="https://gist.github.com/michaellunzer/37f29462ee9a17f22978e672c59e440c" target="_blank" rel="noopener noreferrer" class="markdown-link">https://gist.github.com/michaellunzer/37f29462ee9a17f22978e672c59e440c</a></p>
<pre><pre class="code-block"><code class="hljs language-yaml"><span class="hljs-attr">esphome:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">codecard3</span>
  <span class="hljs-attr">platform:</span> <span class="hljs-string">ESP8266</span>
  <span class="hljs-attr">board:</span> <span class="hljs-string">esp12e</span>
  <span class="hljs-comment"># on_boot:</span>
  <span class="hljs-comment">#     - output.turn_off: onboard_led</span>

<span class="hljs-attr">wifi:</span>
  <span class="hljs-attr">ssid:</span> <span class="hljs-type">!secret</span> <span class="hljs-string">wifi_ssid</span>
  <span class="hljs-attr">password:</span> <span class="hljs-type">!secret</span> <span class="hljs-string">wifi_password</span>

<span class="hljs-comment"># Enable logging</span>
<span class="hljs-attr">logger:</span>

<span class="hljs-comment"># Enable Home Assistant API</span>
<span class="hljs-attr">api:</span>

<span class="hljs-attr">ota:</span>

<span class="hljs-attr">spi:</span>
  <span class="hljs-attr">clk_pin:</span> <span class="hljs-string">GPIO14</span>
  <span class="hljs-attr">mosi_pin:</span> <span class="hljs-string">GPIO13</span>

<span class="hljs-comment"># s= &#x27;@!&quot;%()+,-_.:°0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz.&#x27;</span>
<span class="hljs-comment"># print([&#x27;,&#x27;.join(_) for _ in s])</span>

<span class="hljs-attr">font:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">file:</span> <span class="hljs-string">&#x27;fonts/Google_Sans_Bold.ttf&#x27;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">clock_font</span>
    <span class="hljs-attr">size:</span> <span class="hljs-number">45</span>
    <span class="hljs-attr">glyphs:</span>
      [<span class="hljs-string">&#x27;&amp;&#x27;</span>, <span class="hljs-string">&#x27;@&#x27;</span>, <span class="hljs-string">&#x27;!&#x27;</span>, <span class="hljs-string">&#x27;,&#x27;</span>, <span class="hljs-string">&#x27;.&#x27;</span>, <span class="hljs-string">&#x27;&quot;&#x27;</span>, <span class="hljs-string">&#x27;%&#x27;</span>, <span class="hljs-string">&#x27;(&#x27;</span>, <span class="hljs-string">&#x27;)&#x27;</span>, <span class="hljs-string">&#x27;+&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;_&#x27;</span>, <span class="hljs-string">&#x27;:&#x27;</span>, <span class="hljs-string">&#x27;°&#x27;</span>, <span class="hljs-string">&#x27;0&#x27;</span>,
       <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;4&#x27;</span>, <span class="hljs-string">&#x27;5&#x27;</span>, <span class="hljs-string">&#x27;6&#x27;</span>, <span class="hljs-string">&#x27;7&#x27;</span>, <span class="hljs-string">&#x27;8&#x27;</span>, <span class="hljs-string">&#x27;9&#x27;</span>, <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>,
       <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>, <span class="hljs-string">&#x27;H&#x27;</span>, <span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27;J&#x27;</span>, <span class="hljs-string">&#x27;K&#x27;</span>, <span class="hljs-string">&#x27;L&#x27;</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-string">&#x27;N&#x27;</span>, <span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;P&#x27;</span>, <span class="hljs-string">&#x27;Q&#x27;</span>, <span class="hljs-string">&#x27;R&#x27;</span>, <span class="hljs-string">&#x27;S&#x27;</span>,
       <span class="hljs-string">&#x27;T&#x27;</span>, <span class="hljs-string">&#x27;U&#x27;</span>, <span class="hljs-string">&#x27;V&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;X&#x27;</span>, <span class="hljs-string">&#x27;Y&#x27;</span>, <span class="hljs-string">&#x27;Z&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>,
       <span class="hljs-string">&#x27;g&#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;j&#x27;</span>, <span class="hljs-string">&#x27;k&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>, <span class="hljs-string">&#x27;n&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>, <span class="hljs-string">&#x27;q&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, <span class="hljs-string">&#x27;s&#x27;</span>, <span class="hljs-string">&#x27;t&#x27;</span>,
       <span class="hljs-string">&#x27;u&#x27;</span>, <span class="hljs-string">&#x27;v&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>, <span class="hljs-string">&#x27;x&#x27;</span>, <span class="hljs-string">&#x27;y&#x27;</span>, <span class="hljs-string">&#x27;z&#x27;</span>,<span class="hljs-string">&#x27;å&#x27;</span>, <span class="hljs-string">&#x27;ä&#x27;</span>, <span class="hljs-string">&#x27;ö&#x27;</span>, <span class="hljs-string">&#x27;/&#x27;</span>]
  <span class="hljs-bullet">-</span> <span class="hljs-attr">file:</span> <span class="hljs-string">&#x27;fonts/Google_Sans_Medium.ttf&#x27;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">temp_font</span>
    <span class="hljs-attr">size:</span> <span class="hljs-number">32</span>
    <span class="hljs-attr">glyphs:</span>
      [<span class="hljs-string">&#x27;&amp;&#x27;</span>, <span class="hljs-string">&#x27;@&#x27;</span>, <span class="hljs-string">&#x27;!&#x27;</span>, <span class="hljs-string">&#x27;,&#x27;</span>, <span class="hljs-string">&#x27;.&#x27;</span>, <span class="hljs-string">&#x27;&quot;&#x27;</span>, <span class="hljs-string">&#x27;%&#x27;</span>, <span class="hljs-string">&#x27;(&#x27;</span>, <span class="hljs-string">&#x27;)&#x27;</span>, <span class="hljs-string">&#x27;+&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;_&#x27;</span>, <span class="hljs-string">&#x27;:&#x27;</span>, <span class="hljs-string">&#x27;°&#x27;</span>, <span class="hljs-string">&#x27;0&#x27;</span>,
       <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;4&#x27;</span>, <span class="hljs-string">&#x27;5&#x27;</span>, <span class="hljs-string">&#x27;6&#x27;</span>, <span class="hljs-string">&#x27;7&#x27;</span>, <span class="hljs-string">&#x27;8&#x27;</span>, <span class="hljs-string">&#x27;9&#x27;</span>, <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>,
       <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>, <span class="hljs-string">&#x27;H&#x27;</span>, <span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27;J&#x27;</span>, <span class="hljs-string">&#x27;K&#x27;</span>, <span class="hljs-string">&#x27;L&#x27;</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-string">&#x27;N&#x27;</span>, <span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;P&#x27;</span>, <span class="hljs-string">&#x27;Q&#x27;</span>, <span class="hljs-string">&#x27;R&#x27;</span>, <span class="hljs-string">&#x27;S&#x27;</span>,
       <span class="hljs-string">&#x27;T&#x27;</span>, <span class="hljs-string">&#x27;U&#x27;</span>, <span class="hljs-string">&#x27;V&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;X&#x27;</span>, <span class="hljs-string">&#x27;Y&#x27;</span>, <span class="hljs-string">&#x27;Z&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>,
       <span class="hljs-string">&#x27;g&#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;j&#x27;</span>, <span class="hljs-string">&#x27;k&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>, <span class="hljs-string">&#x27;n&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>, <span class="hljs-string">&#x27;q&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, <span class="hljs-string">&#x27;s&#x27;</span>, <span class="hljs-string">&#x27;t&#x27;</span>,
       <span class="hljs-string">&#x27;u&#x27;</span>, <span class="hljs-string">&#x27;v&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>, <span class="hljs-string">&#x27;x&#x27;</span>, <span class="hljs-string">&#x27;y&#x27;</span>, <span class="hljs-string">&#x27;z&#x27;</span>,<span class="hljs-string">&#x27;å&#x27;</span>, <span class="hljs-string">&#x27;ä&#x27;</span>, <span class="hljs-string">&#x27;ö&#x27;</span>, <span class="hljs-string">&#x27;/&#x27;</span>]
  <span class="hljs-bullet">-</span> <span class="hljs-attr">file:</span> <span class="hljs-string">&#x27;fonts/Google_Sans_Bold.ttf&#x27;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">status_font</span>
    <span class="hljs-attr">size:</span> <span class="hljs-number">18</span>
    <span class="hljs-attr">glyphs:</span>
      [<span class="hljs-string">&#x27;&amp;&#x27;</span>, <span class="hljs-string">&#x27;@&#x27;</span>, <span class="hljs-string">&#x27;!&#x27;</span>, <span class="hljs-string">&#x27;,&#x27;</span>, <span class="hljs-string">&#x27;.&#x27;</span>, <span class="hljs-string">&#x27;&quot;&#x27;</span>, <span class="hljs-string">&#x27;%&#x27;</span>, <span class="hljs-string">&#x27;(&#x27;</span>, <span class="hljs-string">&#x27;)&#x27;</span>, <span class="hljs-string">&#x27;+&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;_&#x27;</span>, <span class="hljs-string">&#x27;:&#x27;</span>, <span class="hljs-string">&#x27;°&#x27;</span>, <span class="hljs-string">&#x27;0&#x27;</span>,
       <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;4&#x27;</span>, <span class="hljs-string">&#x27;5&#x27;</span>, <span class="hljs-string">&#x27;6&#x27;</span>, <span class="hljs-string">&#x27;7&#x27;</span>, <span class="hljs-string">&#x27;8&#x27;</span>, <span class="hljs-string">&#x27;9&#x27;</span>, <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>,
       <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>, <span class="hljs-string">&#x27;H&#x27;</span>, <span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27;J&#x27;</span>, <span class="hljs-string">&#x27;K&#x27;</span>, <span class="hljs-string">&#x27;L&#x27;</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-string">&#x27;N&#x27;</span>, <span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;P&#x27;</span>, <span class="hljs-string">&#x27;Q&#x27;</span>, <span class="hljs-string">&#x27;R&#x27;</span>, <span class="hljs-string">&#x27;S&#x27;</span>,
       <span class="hljs-string">&#x27;T&#x27;</span>, <span class="hljs-string">&#x27;U&#x27;</span>, <span class="hljs-string">&#x27;V&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;X&#x27;</span>, <span class="hljs-string">&#x27;Y&#x27;</span>, <span class="hljs-string">&#x27;Z&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>,
       <span class="hljs-string">&#x27;g&#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;j&#x27;</span>, <span class="hljs-string">&#x27;k&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>, <span class="hljs-string">&#x27;n&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>, <span class="hljs-string">&#x27;q&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, <span class="hljs-string">&#x27;s&#x27;</span>, <span class="hljs-string">&#x27;t&#x27;</span>,
       <span class="hljs-string">&#x27;u&#x27;</span>, <span class="hljs-string">&#x27;v&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>, <span class="hljs-string">&#x27;x&#x27;</span>, <span class="hljs-string">&#x27;y&#x27;</span>, <span class="hljs-string">&#x27;z&#x27;</span>, <span class="hljs-string">&#x27;å&#x27;</span>, <span class="hljs-string">&#x27;ä&#x27;</span>, <span class="hljs-string">&#x27;ö&#x27;</span>, <span class="hljs-string">&#x27;/&#x27;</span>]
  <span class="hljs-bullet">-</span> <span class="hljs-attr">file:</span> <span class="hljs-string">&#x27;fonts/Google_Sans_Medium.ttf&#x27;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">aqi_font</span>
    <span class="hljs-attr">size:</span> <span class="hljs-number">18</span>
    <span class="hljs-attr">glyphs:</span>
      [<span class="hljs-string">&#x27;&amp;&#x27;</span>, <span class="hljs-string">&#x27;@&#x27;</span>, <span class="hljs-string">&#x27;!&#x27;</span>, <span class="hljs-string">&#x27;,&#x27;</span>, <span class="hljs-string">&#x27;.&#x27;</span>, <span class="hljs-string">&#x27;&quot;&#x27;</span>, <span class="hljs-string">&#x27;%&#x27;</span>, <span class="hljs-string">&#x27;(&#x27;</span>, <span class="hljs-string">&#x27;)&#x27;</span>, <span class="hljs-string">&#x27;+&#x27;</span>, <span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-string">&#x27;_&#x27;</span>, <span class="hljs-string">&#x27;:&#x27;</span>, <span class="hljs-string">&#x27;°&#x27;</span>, <span class="hljs-string">&#x27;0&#x27;</span>,
       <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;4&#x27;</span>, <span class="hljs-string">&#x27;5&#x27;</span>, <span class="hljs-string">&#x27;6&#x27;</span>, <span class="hljs-string">&#x27;7&#x27;</span>, <span class="hljs-string">&#x27;8&#x27;</span>, <span class="hljs-string">&#x27;9&#x27;</span>, <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>,
       <span class="hljs-string">&#x27;F&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>, <span class="hljs-string">&#x27;H&#x27;</span>, <span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27;J&#x27;</span>, <span class="hljs-string">&#x27;K&#x27;</span>, <span class="hljs-string">&#x27;L&#x27;</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-string">&#x27;N&#x27;</span>, <span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;P&#x27;</span>, <span class="hljs-string">&#x27;Q&#x27;</span>, <span class="hljs-string">&#x27;R&#x27;</span>, <span class="hljs-string">&#x27;S&#x27;</span>,
       <span class="hljs-string">&#x27;T&#x27;</span>, <span class="hljs-string">&#x27;U&#x27;</span>, <span class="hljs-string">&#x27;V&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;X&#x27;</span>, <span class="hljs-string">&#x27;Y&#x27;</span>, <span class="hljs-string">&#x27;Z&#x27;</span>, <span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>,
       <span class="hljs-string">&#x27;g&#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;j&#x27;</span>, <span class="hljs-string">&#x27;k&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>, <span class="hljs-string">&#x27;n&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>, <span class="hljs-string">&#x27;q&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, <span class="hljs-string">&#x27;s&#x27;</span>, <span class="hljs-string">&#x27;t&#x27;</span>,
       <span class="hljs-string">&#x27;u&#x27;</span>, <span class="hljs-string">&#x27;v&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>, <span class="hljs-string">&#x27;x&#x27;</span>, <span class="hljs-string">&#x27;y&#x27;</span>, <span class="hljs-string">&#x27;z&#x27;</span>, <span class="hljs-string">&#x27;å&#x27;</span>, <span class="hljs-string">&#x27;ä&#x27;</span>, <span class="hljs-string">&#x27;ö&#x27;</span>, <span class="hljs-string">&#x27;/&#x27;</span>]
  <span class="hljs-bullet">-</span> <span class="hljs-attr">file:</span> <span class="hljs-string">&#x27;fonts/materialdesignicons-webfont.ttf&#x27;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">icon_font</span>
    <span class="hljs-attr">size:</span> <span class="hljs-number">32</span>
    <span class="hljs-attr">glyphs:</span> [
      <span class="hljs-string">&#x27;󰢙&#x27;</span>, <span class="hljs-comment"># mdi-account-heart</span>
      <span class="hljs-string">&#x27;󰔏&#x27;</span>, <span class="hljs-comment"># mdi-thermometer</span>
      <span class="hljs-string">&#x27;󱄷&#x27;</span>, <span class="hljs-comment"># mdi-fire-hydrant</span>
      <span class="hljs-string">&quot;󰕊&quot;</span>, <span class="hljs-comment"># mdi-umbrella</span>
      <span class="hljs-string">&quot;󰽕&quot;</span>, <span class="hljs-comment"># mdi-home-thermometer-outline</span>
      <span class="hljs-string">&quot;󰽔&quot;</span>, <span class="hljs-comment"># mdi-home-thermometer</span>
      <span class="hljs-string">&quot;󰵃&quot;</span>, <span class="hljs-comment"># mdi-air-filter</span>
      <span class="hljs-comment"># Wifi</span>
      <span class="hljs-string">&#x27;󰤯&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-outline</span>
      <span class="hljs-string">&#x27;󰤟&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-1</span>
      <span class="hljs-string">&#x27;󰤢&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-2</span>
      <span class="hljs-string">&#x27;󰤥&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-3</span>
      <span class="hljs-string">&#x27;󰤨&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-4</span>
      <span class="hljs-comment"># Weather</span>
      <span class="hljs-string">&quot;󰖙&quot;</span>, <span class="hljs-comment"># mdi-weather-sunny</span>
      <span class="hljs-string">&quot;󰖔&quot;</span>, <span class="hljs-comment"># mdi-weather-night</span>
      <span class="hljs-string">&quot;󰖐&quot;</span>, <span class="hljs-comment"># mdi-weather-cloudy</span>
      <span class="hljs-string">&quot;󰖖&quot;</span>, <span class="hljs-comment"># mdi-weather-pouring</span>
      <span class="hljs-string">&quot;󰙿&quot;</span>, <span class="hljs-comment"># mdi-weather-snowy-rainy</span>
      <span class="hljs-string">&quot;󰼶&quot;</span>, <span class="hljs-comment"># mdi-weather-snowy-heavy</span>
      <span class="hljs-string">&quot;󰖞&quot;</span>, <span class="hljs-comment"># mdi-weather-windy-variant</span>
      <span class="hljs-string">&quot;󰖑&quot;</span>, <span class="hljs-comment"># mdi-weather-fog</span>
      <span class="hljs-string">&quot;󰼱&quot;</span>, <span class="hljs-comment"># mdi-weather-night-partly-cloudy</span>
      <span class="hljs-string">&quot;󰖕&quot;</span>, <span class="hljs-comment"># mdi-weather-partly-cloudy</span>
      <span class="hljs-comment"># Moon</span>
      <span class="hljs-string">&quot;󰽤&quot;</span>, <span class="hljs-comment"># new_moon</span>
      <span class="hljs-string">&quot;󰽧&quot;</span>, <span class="hljs-comment"># waxing_crecent</span>
      <span class="hljs-string">&quot;󰽡&quot;</span>, <span class="hljs-comment"># first_quarter</span>
      <span class="hljs-string">&quot;󰽨&quot;</span>, <span class="hljs-comment"># waxing_gibbous</span>
      <span class="hljs-string">&quot;󰽢&quot;</span>, <span class="hljs-comment"># full_moon</span>
      <span class="hljs-string">&quot;󰽦&quot;</span>, <span class="hljs-comment"># waning_gibbous</span>
      <span class="hljs-string">&quot;󰽣&quot;</span>, <span class="hljs-comment"># last_quarter</span>
      <span class="hljs-string">&quot;󰽥&quot;</span>, <span class="hljs-comment"># waning_crescent</span>
      <span class="hljs-comment"># Sun</span>
      <span class="hljs-string">&quot;󰖛&quot;</span>, <span class="hljs-comment"># mdi-weather-sunset-down</span>
      <span class="hljs-string">&quot;󰖜&quot;</span>, <span class="hljs-comment"># mdi-weather-sunset-up</span>
      ]
  <span class="hljs-bullet">-</span> <span class="hljs-attr">file:</span> <span class="hljs-string">&#x27;fonts/materialdesignicons-webfont.ttf&#x27;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">weather_font</span>
    <span class="hljs-attr">size:</span> <span class="hljs-number">50</span>
    <span class="hljs-attr">glyphs:</span> [
      <span class="hljs-string">&#x27;󰢙&#x27;</span>, <span class="hljs-comment"># mdi-account-heart</span>
      <span class="hljs-string">&#x27;󰔏&#x27;</span>, <span class="hljs-comment"># mdi-thermometer</span>
      <span class="hljs-string">&#x27;󱄷&#x27;</span>, <span class="hljs-comment"># mdi-fire-hydrant</span>
      <span class="hljs-string">&quot;󰕊&quot;</span>, <span class="hljs-comment"># mdi-umbrella</span>
      <span class="hljs-string">&quot;󰽕&quot;</span>, <span class="hljs-comment"># mdi-home-thermometer-outline</span>
      <span class="hljs-string">&quot;󰽔&quot;</span>, <span class="hljs-comment"># mdi-home-thermometer</span>
      <span class="hljs-string">&quot;󰵃&quot;</span>, <span class="hljs-comment"># mdi-air-filter</span>
      <span class="hljs-comment"># Wifi</span>
      <span class="hljs-string">&#x27;󰤯&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-outline</span>
      <span class="hljs-string">&#x27;󰤟&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-1</span>
      <span class="hljs-string">&#x27;󰤢&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-2</span>
      <span class="hljs-string">&#x27;󰤥&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-3</span>
      <span class="hljs-string">&#x27;󰤨&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-4</span>
      <span class="hljs-comment"># Weather</span>
      <span class="hljs-string">&quot;󰖙&quot;</span>, <span class="hljs-comment"># mdi-weather-sunny</span>
      <span class="hljs-string">&quot;󰖔&quot;</span>, <span class="hljs-comment"># mdi-weather-night</span>
      <span class="hljs-string">&quot;󰖐&quot;</span>, <span class="hljs-comment"># mdi-weather-cloudy</span>
      <span class="hljs-string">&quot;󰖖&quot;</span>, <span class="hljs-comment"># mdi-weather-pouring</span>
      <span class="hljs-string">&quot;󰙿&quot;</span>, <span class="hljs-comment"># mdi-weather-snowy-rainy</span>
      <span class="hljs-string">&quot;󰼶&quot;</span>, <span class="hljs-comment"># mdi-weather-snowy-heavy</span>
      <span class="hljs-string">&quot;󰖞&quot;</span>, <span class="hljs-comment"># mdi-weather-windy-variant</span>
      <span class="hljs-string">&quot;󰖑&quot;</span>, <span class="hljs-comment"># mdi-weather-fog</span>
      <span class="hljs-string">&quot;󰼱&quot;</span>, <span class="hljs-comment"># mdi-weather-night-partly-cloudy</span>
      <span class="hljs-string">&quot;󰖕&quot;</span>, <span class="hljs-comment"># mdi-weather-partly-cloudy</span>
      <span class="hljs-comment"># Moon</span>
      <span class="hljs-string">&quot;󰽤&quot;</span>, <span class="hljs-comment"># new_moon</span>
      <span class="hljs-string">&quot;󰽧&quot;</span>, <span class="hljs-comment"># waxing_crecent</span>
      <span class="hljs-string">&quot;󰽡&quot;</span>, <span class="hljs-comment"># first_quarter</span>
      <span class="hljs-string">&quot;󰽨&quot;</span>, <span class="hljs-comment"># waxing_gibbous</span>
      <span class="hljs-string">&quot;󰽢&quot;</span>, <span class="hljs-comment"># full_moon</span>
      <span class="hljs-string">&quot;󰽦&quot;</span>, <span class="hljs-comment"># waning_gibbous</span>
      <span class="hljs-string">&quot;󰽣&quot;</span>, <span class="hljs-comment"># last_quarter</span>
      <span class="hljs-string">&quot;󰽥&quot;</span>, <span class="hljs-comment"># waning_crescent</span>
      <span class="hljs-comment"># Sun</span>
      <span class="hljs-string">&quot;󰖛&quot;</span>, <span class="hljs-comment"># mdi-weather-sunset-down</span>
      <span class="hljs-string">&quot;󰖜&quot;</span>, <span class="hljs-comment"># mdi-weather-sunset-up</span>
      ]
  <span class="hljs-bullet">-</span> <span class="hljs-attr">file:</span> <span class="hljs-string">&#x27;fonts/materialdesignicons-webfont.ttf&#x27;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">current_weather_font</span>
    <span class="hljs-attr">size:</span> <span class="hljs-number">80</span>
    <span class="hljs-attr">glyphs:</span> [
      <span class="hljs-string">&#x27;󰢙&#x27;</span>, <span class="hljs-comment"># mdi-account-heart</span>
      <span class="hljs-string">&#x27;󰔏&#x27;</span>, <span class="hljs-comment"># mdi-thermometer</span>
      <span class="hljs-string">&#x27;󱄷&#x27;</span>, <span class="hljs-comment"># mdi-fire-hydrant</span>
      <span class="hljs-string">&quot;󰕊&quot;</span>, <span class="hljs-comment"># mdi-umbrella</span>
      <span class="hljs-string">&quot;󰽕&quot;</span>, <span class="hljs-comment"># mdi-home-thermometer-outline</span>
      <span class="hljs-string">&quot;󰽔&quot;</span>, <span class="hljs-comment"># mdi-home-thermometer</span>
      <span class="hljs-string">&quot;󰵃&quot;</span>, <span class="hljs-comment"># mdi-air-filter</span>
      <span class="hljs-comment"># Wifi</span>
      <span class="hljs-string">&#x27;󰤯&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-outline</span>
      <span class="hljs-string">&#x27;󰤟&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-1</span>
      <span class="hljs-string">&#x27;󰤢&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-2</span>
      <span class="hljs-string">&#x27;󰤥&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-3</span>
      <span class="hljs-string">&#x27;󰤨&#x27;</span>, <span class="hljs-comment"># mdi-wifi-strength-4</span>
      <span class="hljs-comment"># Weather</span>
      <span class="hljs-string">&quot;󰖙&quot;</span>, <span class="hljs-comment"># mdi-weather-sunny</span>
      <span class="hljs-string">&quot;󰖔&quot;</span>, <span class="hljs-comment"># mdi-weather-night</span>
      <span class="hljs-string">&quot;󰖐&quot;</span>, <span class="hljs-comment"># mdi-weather-cloudy</span>
      <span class="hljs-string">&quot;󰖖&quot;</span>, <span class="hljs-comment"># mdi-weather-pouring</span>
      <span class="hljs-string">&quot;󰙿&quot;</span>, <span class="hljs-comment"># mdi-weather-snowy-rainy</span>
      <span class="hljs-string">&quot;󰼶&quot;</span>, <span class="hljs-comment"># mdi-weather-snowy-heavy</span>
      <span class="hljs-string">&quot;󰖞&quot;</span>, <span class="hljs-comment"># mdi-weather-windy-variant</span>
      <span class="hljs-string">&quot;󰖑&quot;</span>, <span class="hljs-comment"># mdi-weather-fog</span>
      <span class="hljs-string">&quot;󰼱&quot;</span>, <span class="hljs-comment"># mdi-weather-night-partly-cloudy</span>
      <span class="hljs-string">&quot;󰖕&quot;</span>, <span class="hljs-comment"># mdi-weather-partly-cloudy</span>
      <span class="hljs-comment"># Moon</span>
      <span class="hljs-string">&quot;󰽤&quot;</span>, <span class="hljs-comment"># new_moon</span>
      <span class="hljs-string">&quot;󰽧&quot;</span>, <span class="hljs-comment"># waxing_crecent</span>
      <span class="hljs-string">&quot;󰽡&quot;</span>, <span class="hljs-comment"># first_quarter</span>
      <span class="hljs-string">&quot;󰽨&quot;</span>, <span class="hljs-comment"># waxing_gibbous</span>
      <span class="hljs-string">&quot;󰽢&quot;</span>, <span class="hljs-comment"># full_moon</span>
      <span class="hljs-string">&quot;󰽦&quot;</span>, <span class="hljs-comment"># waning_gibbous</span>
      <span class="hljs-string">&quot;󰽣&quot;</span>, <span class="hljs-comment"># last_quarter</span>
      <span class="hljs-string">&quot;󰽥&quot;</span>, <span class="hljs-comment"># waning_crescent</span>
      <span class="hljs-comment"># Sun</span>
      <span class="hljs-string">&quot;󰖛&quot;</span>, <span class="hljs-comment"># mdi-weather-sunset-down</span>
      <span class="hljs-string">&quot;󰖜&quot;</span>, <span class="hljs-comment"># mdi-weather-sunset-up</span>
      ]

<span class="hljs-comment"># 264 x 176 display</span>
<span class="hljs-attr">display:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">waveshare_epaper</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">epaper</span>
    <span class="hljs-attr">cs_pin:</span> <span class="hljs-string">GPIO2</span>
    <span class="hljs-attr">busy_pin:</span> <span class="hljs-string">GPIO5</span>
    <span class="hljs-attr">reset_pin:</span> <span class="hljs-string">GPIO4</span>
    <span class="hljs-attr">dc_pin:</span> <span class="hljs-string">GPIO0</span>
    <span class="hljs-attr">model:</span> <span class="hljs-number">2.</span><span class="hljs-string">70in</span>
    <span class="hljs-attr">rotation:</span> <span class="hljs-number">270</span><span class="hljs-string">°</span>
    <span class="hljs-comment"># full_update_every: 30</span>
    <span class="hljs-comment"># 264 x 176 display</span>
    <span class="hljs-attr">update_interval:</span> <span class="hljs-string">3600s</span>
    <span class="hljs-attr">lambda:</span> <span class="hljs-string">|
      int x, y;
      ESP_LOGI(&quot;display&quot;, &quot;Updating..&quot;);
</span>
      <span class="hljs-string">/*</span> <span class="hljs-string">Print</span> <span class="hljs-string">time</span> <span class="hljs-string">in</span> <span class="hljs-string">HH:MM</span> <span class="hljs-string">format</span> <span class="hljs-string">*/</span>
      <span class="hljs-string">it.strftime(0,</span> <span class="hljs-number">-10</span><span class="hljs-string">,</span> <span class="hljs-string">id(clock_font),</span> <span class="hljs-string">TextAlign::TOP_LEFT,</span> <span class="hljs-string">&quot;%I:%M&quot;</span><span class="hljs-string">,</span> <span class="hljs-string">id(current_time).now());</span>
      <span class="hljs-string">/*</span> <span class="hljs-string">Print</span> <span class="hljs-string">AM/PM</span> <span class="hljs-string">*/</span>
      <span class="hljs-string">it.strftime(120,</span> <span class="hljs-number">15</span><span class="hljs-string">,</span> <span class="hljs-string">id(status_font),</span> <span class="hljs-string">TextAlign::TOP_LEFT,</span> <span class="hljs-string">&quot;%P&quot;</span><span class="hljs-string">,</span> <span class="hljs-string">id(current_time).now());</span>
      <span class="hljs-string">it.strftime(65,</span> <span class="hljs-number">40</span><span class="hljs-string">,</span> <span class="hljs-string">id(status_font),</span> <span class="hljs-string">TextAlign::TOP_LEFT,</span> <span class="hljs-string">&quot;%b %e, %Y&quot;</span><span class="hljs-string">,</span> <span class="hljs-string">id(current_time).now());</span>

      <span class="hljs-string">//</span> <span class="hljs-string">it.line(259,</span> <span class="hljs-number">-10</span><span class="hljs-string">,</span> <span class="hljs-number">259</span><span class="hljs-string">,</span> <span class="hljs-number">200</span><span class="hljs-string">);it.line(261,</span> <span class="hljs-number">0</span><span class="hljs-string">,</span> <span class="hljs-number">261</span><span class="hljs-string">,</span> <span class="hljs-number">200</span><span class="hljs-string">);it.line(260,</span> <span class="hljs-number">0</span><span class="hljs-string">,</span> <span class="hljs-number">260</span><span class="hljs-string">,</span> <span class="hljs-number">200</span><span class="hljs-string">);</span>
      <span class="hljs-string">//</span> <span class="hljs-string">it.line(0,</span> <span class="hljs-number">200</span><span class="hljs-string">,</span> <span class="hljs-number">259</span><span class="hljs-string">,</span> <span class="hljs-number">200</span><span class="hljs-string">);it.line(0,</span> <span class="hljs-number">201</span><span class="hljs-string">,</span> <span class="hljs-number">261</span><span class="hljs-string">,</span> <span class="hljs-number">201</span><span class="hljs-string">);it.line(0,</span> <span class="hljs-number">202</span><span class="hljs-string">,</span> <span class="hljs-number">260</span><span class="hljs-string">,</span> <span class="hljs-number">202</span><span class="hljs-string">);</span>
      <span class="hljs-string">/*</span>
      <span class="hljs-string">it.print(125,</span> <span class="hljs-number">120</span><span class="hljs-string">,</span> <span class="hljs-string">id(temp_font),</span> <span class="hljs-string">TextAlign::BASELINE_CENTER,</span> <span class="hljs-string">&quot;HELLO SUNSHINE!&quot;</span><span class="hljs-string">);</span>
      <span class="hljs-string">it.print(125,</span> <span class="hljs-number">160</span><span class="hljs-string">,</span> <span class="hljs-string">id(icon_font),</span> <span class="hljs-string">TextAlign::BASELINE_CENTER,</span> <span class="hljs-string">&quot;󰢙&quot;</span><span class="hljs-string">);</span>
      <span class="hljs-string">it.print(125,</span> <span class="hljs-number">182</span><span class="hljs-string">,</span> <span class="hljs-string">id(temp_font),</span> <span class="hljs-string">TextAlign::BASELINE_CENTER,</span> <span class="hljs-string">&quot;Lea &amp; Emma&quot;</span><span class="hljs-string">);</span> <span class="hljs-string">//</span> <span class="hljs-number">400</span> <span class="hljs-bullet">-</span> <span class="hljs-string">((400</span> <span class="hljs-bullet">-</span> <span class="hljs-number">260</span><span class="hljs-string">)/2)</span>
      <span class="hljs-string">*/</span>
      <span class="hljs-string">/*</span> <span class="hljs-string">Moon</span> <span class="hljs-string">icon</span> <span class="hljs-bullet">-</span> <span class="hljs-string">used</span> <span class="hljs-string">to</span> <span class="hljs-string">be</span> <span class="hljs-string">y</span> <span class="hljs-string">=</span> <span class="hljs-number">155</span><span class="hljs-string">,</span> <span class="hljs-string">x</span> <span class="hljs-string">=</span> <span class="hljs-number">230</span> <span class="hljs-string">*/</span>
      <span class="hljs-string">if(id(moon_icon).has_state())</span> {
        <span class="hljs-string">y</span> <span class="hljs-string">=</span> <span class="hljs-number">165</span>, <span class="hljs-string">x</span> <span class="hljs-string">=</span> <span class="hljs-number">20</span><span class="hljs-string">;</span>
        <span class="hljs-string">ESP_LOGI(&quot;Moon</span> <span class="hljs-string">icon&quot;</span>, <span class="hljs-string">&quot;%s&quot;</span>, <span class="hljs-string">id(moon_icon).state.c_str());</span>
        <span class="hljs-string">it.printf(x</span>, <span class="hljs-string">y</span>, <span class="hljs-string">id(icon_font)</span>, <span class="hljs-string">TextAlign::BASELINE_CENTER</span>, <span class="hljs-string">&quot;%s&quot;</span>, <span class="hljs-string">id(moon_icon).state.c_str());</span>
      }
      <span class="hljs-string">/*</span> <span class="hljs-string">WiFi</span> <span class="hljs-string">Signal</span> <span class="hljs-string">Strenght</span>          <span class="hljs-string">x</span> <span class="hljs-string">=</span> <span class="hljs-number">398</span><span class="hljs-string">,</span> <span class="hljs-string">y</span> <span class="hljs-string">=</span> <span class="hljs-number">298</span><span class="hljs-string">;</span> <span class="hljs-string">*/</span>
      <span class="hljs-string">if(id(wifisignal).has_state())</span> {
        <span class="hljs-string">x</span> <span class="hljs-string">=</span> <span class="hljs-number">175</span>, <span class="hljs-string">y</span> <span class="hljs-string">=</span> <span class="hljs-number">30</span><span class="hljs-string">;</span>
        <span class="hljs-string">if</span> <span class="hljs-string">(id(wifisignal).state</span> <span class="hljs-string">&gt;=</span> <span class="hljs-number">-50</span><span class="hljs-string">)</span> {
            <span class="hljs-string">//Excellent</span>
            <span class="hljs-string">it.print(x</span>, <span class="hljs-string">y</span>, <span class="hljs-string">id(icon_font)</span>, <span class="hljs-string">TextAlign::BOTTOM_RIGHT</span>, <span class="hljs-string">&quot;󰤨&quot;</span><span class="hljs-string">);</span>
            <span class="hljs-string">ESP_LOGI(&quot;WiFi&quot;</span>, <span class="hljs-string">&quot;Exellent&quot;</span><span class="hljs-string">);</span>
        } <span class="hljs-string">else</span> <span class="hljs-string">if</span> <span class="hljs-string">(id(wifisignal).state</span>  <span class="hljs-string">&gt;=</span> <span class="hljs-number">-60</span><span class="hljs-string">)</span> {
            <span class="hljs-string">//Good</span>
            <span class="hljs-string">it.print(x</span>, <span class="hljs-string">y</span>, <span class="hljs-string">id(icon_font)</span>, <span class="hljs-string">TextAlign::BOTTOM_RIGHT</span>, <span class="hljs-string">&quot;󰤥&quot;</span><span class="hljs-string">);</span>
            <span class="hljs-string">ESP_LOGI(&quot;WiFi&quot;</span>, <span class="hljs-string">&quot;Good&quot;</span><span class="hljs-string">);</span>
        } <span class="hljs-string">else</span> <span class="hljs-string">if</span> <span class="hljs-string">(id(wifisignal).state</span>  <span class="hljs-string">&gt;=</span> <span class="hljs-number">-67</span><span class="hljs-string">)</span> {
            <span class="hljs-string">//Fair</span>
            <span class="hljs-string">it.print(x</span>, <span class="hljs-string">y</span>, <span class="hljs-string">id(icon_font)</span>, <span class="hljs-string">TextAlign::BOTTOM_RIGHT</span>, <span class="hljs-string">&quot;󰤢&quot;</span><span class="hljs-string">);</span>
            <span class="hljs-string">ESP_LOGI(&quot;WiFi&quot;</span>, <span class="hljs-string">&quot;Fair&quot;</span><span class="hljs-string">);</span>
        } <span class="hljs-string">else</span> <span class="hljs-string">if</span> <span class="hljs-string">(id(wifisignal).state</span>  <span class="hljs-string">&gt;=</span> <span class="hljs-number">-70</span><span class="hljs-string">)</span> {
            <span class="hljs-string">//Weak</span>
            <span class="hljs-string">it.print(x</span>, <span class="hljs-string">y</span>, <span class="hljs-string">id(icon_font)</span>, <span class="hljs-string">TextAlign::BOTTOM_RIGHT</span>, <span class="hljs-string">&quot;󰤟&quot;</span><span class="hljs-string">);</span>
            <span class="hljs-string">ESP_LOGI(&quot;WiFi&quot;</span>, <span class="hljs-string">&quot;Weak&quot;</span><span class="hljs-string">);</span>
        } <span class="hljs-string">else</span> {
            <span class="hljs-string">//Unlikely</span> <span class="hljs-string">working</span> <span class="hljs-string">signal</span>
            <span class="hljs-string">it.print(x</span>, <span class="hljs-string">y</span>, <span class="hljs-string">id(icon_font)</span>, <span class="hljs-string">TextAlign::BOTTOM_RIGHT</span>, <span class="hljs-string">&quot;󰤯&quot;</span><span class="hljs-string">);</span>
            <span class="hljs-string">ESP_LOGI(&quot;WiFi&quot;</span>, <span class="hljs-string">&quot;Unlikely&quot;</span><span class="hljs-string">);</span>
        }
      }

      <span class="hljs-string">//</span> <span class="hljs-string">Current</span> <span class="hljs-string">weather</span>
      <span class="hljs-string">if(id(weather_forecast_today).has_state())</span> {
        <span class="hljs-string">std::string</span> <span class="hljs-string">str</span> <span class="hljs-string">=</span> <span class="hljs-string">id(weather_forecast_today).state;</span>
        <span class="hljs-string">ESP_LOGI(&quot;Weather&quot;</span>, <span class="hljs-string">&quot;%s&quot;</span>, <span class="hljs-string">str.c_str());</span>
        <span class="hljs-string">std::size_t</span> <span class="hljs-string">current</span>, <span class="hljs-string">previous</span> <span class="hljs-string">=</span> <span class="hljs-number">0</span><span class="hljs-string">;</span>
        <span class="hljs-string">char</span> <span class="hljs-string">delim</span> <span class="hljs-string">=</span> <span class="hljs-string">&#x27;;&#x27;</span><span class="hljs-string">;</span>
        <span class="hljs-string">current</span> <span class="hljs-string">=</span> <span class="hljs-string">str.find(delim);</span>
        <span class="hljs-string">int</span> <span class="hljs-string">y</span> <span class="hljs-string">=</span> <span class="hljs-number">100</span>, <span class="hljs-string">x</span> <span class="hljs-string">=</span> <span class="hljs-number">5</span><span class="hljs-string">;</span>
        <span class="hljs-string">for</span> <span class="hljs-string">(int</span> <span class="hljs-string">i=0;</span> <span class="hljs-string">i&lt;3;</span> <span class="hljs-string">i++)</span> {
            <span class="hljs-string">if(i</span> <span class="hljs-string">==</span> <span class="hljs-number">0</span><span class="hljs-string">)</span> {
              <span class="hljs-string">it.printf(x</span> <span class="hljs-bullet">-</span> <span class="hljs-number">15</span>, <span class="hljs-string">y</span>, <span class="hljs-string">id(current_weather_font)</span>,
                <span class="hljs-string">TextAlign::BASELINE_LEFT</span>,
                <span class="hljs-string">&quot;%s&quot;</span>, <span class="hljs-string">str.substr(previous</span>, <span class="hljs-string">current</span> <span class="hljs-bullet">-</span> <span class="hljs-string">previous).c_str());</span>
            } <span class="hljs-string">else</span> <span class="hljs-string">if</span> <span class="hljs-string">(i</span> <span class="hljs-string">==</span> <span class="hljs-number">1</span><span class="hljs-string">)</span> {
              <span class="hljs-string">ESP_LOGD(&quot;weather&quot;</span>,<span class="hljs-string">&quot;%dx%d %s&quot;</span>, <span class="hljs-string">(i</span> <span class="hljs-string">%</span> <span class="hljs-number">1</span> <span class="hljs-string">?</span> <span class="hljs-attr">270 :</span> <span class="hljs-number">320</span><span class="hljs-string">)</span>, <span class="hljs-string">x</span>,
                <span class="hljs-string">str.substr(previous</span>, <span class="hljs-string">current</span> <span class="hljs-bullet">-</span> <span class="hljs-string">previous).c_str());</span>
              <span class="hljs-string">/*</span> <span class="hljs-string">it.printf(y</span>, <span class="hljs-string">x</span>, <span class="hljs-string">id(status_font)</span>,
                <span class="hljs-string">TextAlign::TOP_LEFT</span>,
                <span class="hljs-string">&quot;%s&quot;</span>, <span class="hljs-string">str.substr(previous</span>, <span class="hljs-string">current</span> <span class="hljs-bullet">-</span> <span class="hljs-string">previous).c_str());</span>
              <span class="hljs-string">*/</span>
            } <span class="hljs-string">else</span> <span class="hljs-string">if</span> <span class="hljs-string">(i</span> <span class="hljs-string">==</span> <span class="hljs-number">2</span><span class="hljs-string">)</span> { <span class="hljs-string">//</span> <span class="hljs-string">Chance</span> <span class="hljs-string">for</span> <span class="hljs-string">rain</span>
              <span class="hljs-string">it.printf(x</span>, <span class="hljs-string">y</span> <span class="hljs-string">+</span> <span class="hljs-number">2</span>, <span class="hljs-string">id(icon_font)</span>, <span class="hljs-string">TextAlign::TOP_LEFT</span>, <span class="hljs-string">&quot;󰕊&quot;</span><span class="hljs-string">);</span> <span class="hljs-string">//</span> <span class="hljs-string">Umbrella</span>
              <span class="hljs-string">it.printf(x</span> <span class="hljs-string">+</span> <span class="hljs-number">30</span>, <span class="hljs-string">y</span> <span class="hljs-string">+</span> <span class="hljs-number">10</span>, <span class="hljs-string">id(status_font)</span>,
                <span class="hljs-string">TextAlign::TOP_LEFT</span>,
                <span class="hljs-string">&quot;%s%%&quot;</span>, <span class="hljs-string">str.substr(previous</span>, <span class="hljs-string">current</span> <span class="hljs-bullet">-</span> <span class="hljs-string">previous).c_str());</span>
            }
            <span class="hljs-string">//</span> <span class="hljs-string">y</span> <span class="hljs-string">+=</span> <span class="hljs-number">100</span><span class="hljs-string">;</span>
            <span class="hljs-string">previous</span> <span class="hljs-string">=</span> <span class="hljs-string">current</span> <span class="hljs-string">+</span> <span class="hljs-number">1</span><span class="hljs-string">;</span>
            <span class="hljs-string">current</span> <span class="hljs-string">=</span> <span class="hljs-string">str.find(delim</span>, <span class="hljs-string">previous);</span>
        }
      }

      <span class="hljs-string">//</span> <span class="hljs-string">Print</span> <span class="hljs-string">inside</span> <span class="hljs-string">temperature</span> <span class="hljs-string">(from</span> <span class="hljs-string">homeassistant</span> <span class="hljs-string">sensor)</span>
      <span class="hljs-string">y</span> <span class="hljs-string">=</span> <span class="hljs-number">135</span><span class="hljs-string">,</span> <span class="hljs-string">x</span> <span class="hljs-string">=</span> <span class="hljs-number">100</span><span class="hljs-string">;</span>
      <span class="hljs-string">if</span> <span class="hljs-string">(id(inside_temperature).has_state())</span> {
        <span class="hljs-string">it.print(x</span>, <span class="hljs-string">y</span>, <span class="hljs-string">id(icon_font)</span>, <span class="hljs-string">TextAlign::BOTTOM_RIGHT</span>, <span class="hljs-string">&quot;󰽕&quot;</span><span class="hljs-string">);</span>
        <span class="hljs-string">it.printf(x</span>, <span class="hljs-string">y</span> <span class="hljs-string">+</span> <span class="hljs-number">4</span>, <span class="hljs-string">id(temp_font)</span>, <span class="hljs-string">TextAlign::BOTTOM_LEFT</span> , <span class="hljs-string">&quot;%5.1f°&quot;</span>, <span class="hljs-string">id(inside_temperature).state);</span>
      }
      <span class="hljs-string">//</span> <span class="hljs-string">Print</span> <span class="hljs-string">outside</span> <span class="hljs-string">temperature</span> <span class="hljs-string">(from</span> <span class="hljs-string">homeassistant</span> <span class="hljs-string">sensor)</span>
      <span class="hljs-string">if</span> <span class="hljs-string">(id(outside_temperature).has_state())</span> {
        <span class="hljs-string">it.print(x</span>, <span class="hljs-string">y</span> <span class="hljs-string">+</span> <span class="hljs-number">4</span>, <span class="hljs-string">id(icon_font)</span>, <span class="hljs-string">TextAlign::TOP_RIGHT</span>, <span class="hljs-string">&quot;󰽔&quot;</span><span class="hljs-string">);</span> 
        <span class="hljs-string">it.printf(x</span>, <span class="hljs-string">y</span>, <span class="hljs-string">id(temp_font)</span>, <span class="hljs-string">TextAlign::TOP_LEFT</span>, <span class="hljs-string">&quot;%5.1f°&quot;</span>, <span class="hljs-string">id(outside_temperature).state);</span>
      }

      <span class="hljs-string">//</span> <span class="hljs-string">Print</span> <span class="hljs-string">sniffer0</span> <span class="hljs-string">air</span> <span class="hljs-string">quality</span> <span class="hljs-string">index</span> <span class="hljs-string">sensor</span> <span class="hljs-string">(from</span> <span class="hljs-string">homeassistant</span> <span class="hljs-string">sensor)</span>
      <span class="hljs-string">if</span> <span class="hljs-string">(id(sniffer0_aqi).has_state())</span> {
         <span class="hljs-string">x</span> <span class="hljs-string">=</span> <span class="hljs-number">91</span>, <span class="hljs-string">y</span> <span class="hljs-string">=</span> <span class="hljs-number">60</span><span class="hljs-string">;</span>
        <span class="hljs-string">it.print(x</span> <span class="hljs-string">+</span> <span class="hljs-number">10</span>, <span class="hljs-string">y</span> <span class="hljs-string">+</span> <span class="hljs-number">4</span>, <span class="hljs-string">id(icon_font)</span>, <span class="hljs-string">TextAlign::TOP_RIGHT</span>, <span class="hljs-string">&quot;󰵃&quot;</span><span class="hljs-string">);</span> 
        <span class="hljs-string">it.printf(x</span> <span class="hljs-bullet">-</span> <span class="hljs-number">4</span>, <span class="hljs-string">y</span>, <span class="hljs-string">id(temp_font)</span>, <span class="hljs-string">TextAlign::TOP_LEFT</span>, <span class="hljs-string">&quot;%5.0f&quot;</span>, <span class="hljs-string">id(sniffer0_aqi).state);</span>
        <span class="hljs-string">it.print(x</span> <span class="hljs-string">+</span> <span class="hljs-number">87</span>, <span class="hljs-string">y</span> <span class="hljs-string">+</span> <span class="hljs-number">16</span>, <span class="hljs-string">id(aqi_font)</span>, <span class="hljs-string">TextAlign::TOP_RIGHT</span>, <span class="hljs-string">&quot;AQI&quot;</span><span class="hljs-string">);</span> 

      }

      <span class="hljs-string">/*//</span> <span class="hljs-string">Print</span> <span class="hljs-string">consumer</span>
      <span class="hljs-string">if</span> <span class="hljs-string">(id(top_consumer).has_state())</span> {
        <span class="hljs-string">it.printf(0</span>, <span class="hljs-number">295</span>, <span class="hljs-string">id(status_font)</span>, <span class="hljs-string">TextAlign::BOTTOM_LEFT</span> , <span class="hljs-string">&quot;Total: %.0f W, %s W&quot;</span>, <span class="hljs-string">id(sparsnas).state</span>, <span class="hljs-string">id(top_consumer).state.c_str());</span>
      }
      <span class="hljs-string">*/</span>

      <span class="hljs-string">it.line(180,</span> <span class="hljs-number">0</span><span class="hljs-string">,</span> <span class="hljs-number">180</span><span class="hljs-string">,</span> <span class="hljs-number">176</span><span class="hljs-string">);</span>
      <span class="hljs-string">it.line(0,</span> <span class="hljs-number">103</span><span class="hljs-string">,</span> <span class="hljs-number">180</span><span class="hljs-string">,</span> <span class="hljs-number">103</span><span class="hljs-string">);</span>

      <span class="hljs-string">//</span> <span class="hljs-string">std::string</span> <span class="hljs-string">str</span> <span class="hljs-string">=</span> <span class="hljs-string">&quot;mon:cloud:12.1:30%:tue:rain:10.2:40%:wed:sunny:18.0:0%:thu:snow:-12.2:10%&quot;</span><span class="hljs-string">;</span>
      <span class="hljs-string">//</span> <span class="hljs-string">Mon;;65°/53°;12%;Tue;;70°/56°;7%;Wed;;73°/55°;2%;Thu;;73°/55°;1%</span>
      <span class="hljs-string">if(id(weather_forecast).has_state())</span> {
        <span class="hljs-string">std::string</span> <span class="hljs-string">str</span> <span class="hljs-string">=</span> <span class="hljs-string">id(weather_forecast).state;</span>
        <span class="hljs-string">ESP_LOGI(&quot;Weather&quot;</span>, <span class="hljs-string">&quot;%s&quot;</span>, <span class="hljs-string">str.c_str());</span>
        <span class="hljs-string">std::size_t</span> <span class="hljs-string">current</span>, <span class="hljs-string">previous</span> <span class="hljs-string">=</span> <span class="hljs-number">0</span><span class="hljs-string">;</span>
        <span class="hljs-string">char</span> <span class="hljs-string">delim</span> <span class="hljs-string">=</span> <span class="hljs-string">&#x27;;&#x27;</span><span class="hljs-string">;</span>
        <span class="hljs-string">current</span> <span class="hljs-string">=</span> <span class="hljs-string">str.find(delim);</span>
        <span class="hljs-string">int</span> <span class="hljs-string">x</span> <span class="hljs-string">=</span> <span class="hljs-number">240</span>, <span class="hljs-string">y</span> <span class="hljs-string">=</span> <span class="hljs-number">0</span><span class="hljs-string">;</span>
        <span class="hljs-string">//</span> <span class="hljs-string">changed</span> <span class="hljs-string">from</span> <span class="hljs-string">x</span> <span class="hljs-string">=</span> <span class="hljs-number">340</span>, <span class="hljs-string">y</span> <span class="hljs-string">=</span> <span class="hljs-number">4</span>
        <span class="hljs-string">for</span> <span class="hljs-string">(int</span> <span class="hljs-string">i=0;</span> <span class="hljs-string">i&lt;4;</span> <span class="hljs-string">i++)</span> {
          <span class="hljs-string">ESP_LOGI(&quot;t&quot;</span>, <span class="hljs-string">&quot;%d&quot;</span>, <span class="hljs-string">i);</span>
          <span class="hljs-string">for</span> <span class="hljs-string">(int</span> <span class="hljs-string">j=0;</span> <span class="hljs-string">j&lt;4;</span> <span class="hljs-string">j++)</span> {
            <span class="hljs-string">if(j</span> <span class="hljs-string">==</span> <span class="hljs-number">1</span><span class="hljs-string">)</span> {  <span class="hljs-string">//</span> <span class="hljs-string">Weather</span> <span class="hljs-string">icon.</span>
              <span class="hljs-string">it.printf(x</span> <span class="hljs-bullet">-</span> <span class="hljs-number">65</span>, <span class="hljs-string">y</span> <span class="hljs-string">+</span> <span class="hljs-number">25</span>, <span class="hljs-string">id(weather_font)</span>,
                <span class="hljs-string">TextAlign::BASELINE_LEFT</span>,
                <span class="hljs-string">&quot;%s&quot;</span>, <span class="hljs-string">str.substr(previous</span>, <span class="hljs-string">current</span> <span class="hljs-bullet">-</span> <span class="hljs-string">previous).c_str());</span>
            } <span class="hljs-string">else</span> {
              <span class="hljs-string">ESP_LOGD(&quot;weather&quot;</span>,<span class="hljs-string">&quot;%dx%d %s&quot;</span>, <span class="hljs-string">(j</span> <span class="hljs-string">%</span> <span class="hljs-number">1</span> <span class="hljs-string">?</span> <span class="hljs-attr">270 :</span> <span class="hljs-number">320</span><span class="hljs-string">)</span>, <span class="hljs-string">x</span>,
                <span class="hljs-string">str.substr(previous</span>, <span class="hljs-string">current</span> <span class="hljs-bullet">-</span> <span class="hljs-string">previous).c_str());</span>
              <span class="hljs-string">it.printf((j</span> <span class="hljs-string">==</span> <span class="hljs-number">0</span> <span class="hljs-string">?</span> <span class="hljs-attr">x - 15 :</span> <span class="hljs-number">390</span><span class="hljs-string">)</span>, <span class="hljs-string">y</span>,
                <span class="hljs-string">id(status_font)</span>,
                <span class="hljs-string">(j</span> <span class="hljs-string">==</span> <span class="hljs-number">0</span> <span class="hljs-string">?</span> <span class="hljs-attr">TextAlign::TOP_LEFT :</span> <span class="hljs-string">TextAlign::TOP_RIGHT)</span>,
                <span class="hljs-string">&quot;%s&quot;</span>, <span class="hljs-string">str.substr(previous</span>, <span class="hljs-string">current</span> <span class="hljs-bullet">-</span> <span class="hljs-string">previous).c_str());</span>
              <span class="hljs-string">y</span> <span class="hljs-string">+=</span> <span class="hljs-number">16</span><span class="hljs-string">;</span>
            }
            <span class="hljs-string">previous</span> <span class="hljs-string">=</span> <span class="hljs-string">current</span> <span class="hljs-string">+</span> <span class="hljs-number">1</span><span class="hljs-string">;</span>
            <span class="hljs-string">current</span> <span class="hljs-string">=</span> <span class="hljs-string">str.find(delim</span>, <span class="hljs-string">previous);</span>
          }
          <span class="hljs-string">y</span> <span class="hljs-string">+=</span> <span class="hljs-number">2</span><span class="hljs-string">;</span>
        }
      }

<span class="hljs-comment"># output:</span>
<span class="hljs-comment">#   - platform: gpio</span>
<span class="hljs-comment">#     id: onboard_led</span>
<span class="hljs-comment">#     pin:</span>
<span class="hljs-comment">#       number: 2</span>
<span class="hljs-comment">#       inverted: False</span>

<span class="hljs-comment"># light:</span>
<span class="hljs-comment">#   - platform: binary</span>
<span class="hljs-comment">#     name: &quot;Onboard LED&quot;</span>
<span class="hljs-comment">#     output: onboard_led</span>

<span class="hljs-attr">time:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">homeassistant</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">current_time</span>
    <span class="hljs-attr">timezone:</span> <span class="hljs-string">America/Los_Angeles</span>
    <span class="hljs-attr">on_time:</span>
      <span class="hljs-comment"># Every 1 minutes</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">seconds:</span> <span class="hljs-number">0</span>
        <span class="hljs-attr">then:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">component.update:</span> <span class="hljs-string">epaper</span>

<span class="hljs-attr">sensor:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">homeassistant</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">inside_temperature</span>
    <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.sn1_temperature</span>
    <span class="hljs-attr">internal:</span> <span class="hljs-literal">true</span>

  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">homeassistant</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">sniffer0_aqi</span>
    <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.sniffer0_pm_2_5_aqi</span>
    <span class="hljs-attr">internal:</span> <span class="hljs-literal">true</span>

  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">homeassistant</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">outside_temperature</span>
    <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.openweathermap_forecast_temperature</span>
    <span class="hljs-attr">internal:</span> <span class="hljs-literal">true</span>

  <span class="hljs-comment"># - platform: homeassistant</span>
  <span class="hljs-comment">#   entity_id: sensor.sparsnas_energy_consumption_momentary</span>
  <span class="hljs-comment">#   id: sparsnas</span>
  <span class="hljs-comment">#   internal: true</span>

  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">homeassistant</span>
    <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.dark_sky_precip_probability</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">precip_probability</span>
    <span class="hljs-attr">internal:</span> <span class="hljs-literal">true</span>

  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">wifi_signal</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;WiFi Signal Sensor&quot;</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">wifisignal</span>
    <span class="hljs-attr">update_interval:</span> <span class="hljs-string">60s</span>

<span class="hljs-attr">text_sensor:</span>
  <span class="hljs-comment"># - platform: homeassistant</span>
  <span class="hljs-comment">#   id: top_consumer</span>
  <span class="hljs-comment">#   entity_id: sensor.iotawatt_top_consumer</span>
  <span class="hljs-comment">#   internal: true</span>

  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">homeassistant</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">forecast</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">weather_forecast</span>
    <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.forecast</span>
    <span class="hljs-attr">internal:</span> <span class="hljs-literal">true</span>

  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">homeassistant</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">forecast</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">weather_forecast_today</span>
    <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.forecast_today</span>
    <span class="hljs-attr">internal:</span> <span class="hljs-literal">true</span>

  <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">homeassistant</span>
    <span class="hljs-attr">id:</span> <span class="hljs-string">moon_icon</span>
    <span class="hljs-attr">entity_id:</span> <span class="hljs-string">sensor.moon_tpl</span>
</code></pre></pre>
<p>This was based heavily on <a href="https://github.com/fredrike/esphome-nodes/blob/f7a3a225c417d651b4a3937708ea4d4b2d0827ed/homeassistant-config/package-display_node.yaml" target="_blank" rel="noopener noreferrer" class="markdown-link">@fredrike&#x27;s code</a> and so there are still some vestigal structures of his code commented out in my code. @Fredrike, if you see this, thanks for your inspiration!</p>
<h1 class="markdown-h1">Future hardware:</h1>
<p>I realize that I&#x27;m pretty lucky to get ahold of a limited run piece of hardware specially made for a conference. I was hoping that I was watching YouTube while writing this post and saw <a href="https://www.adafruit.com/product/4777" target="_blank" rel="noopener noreferrer" class="markdown-link">a new product from Adafruit</a> that this code could potentially work on in the future.</p>
<p>Also, <a href="https://www.tindie.com/products/squarofumi/badgy-iot-badge/" target="_blank" rel="noopener noreferrer" class="markdown-link">the badgy</a> looks like a great alternative.</p>
<h1 class="markdown-h1">Display Iterations</h1>
<p><img src="//images.ctfassets.net/o4gibwve10tr/3PcSeOOy7f392aqflN7OWA/7c3d493bbb5d22174e2add6b7d0d2601/IMG_3933.jpeg" alt="codecard_hello_world"/></p>
<p><img src="//images.ctfassets.net/o4gibwve10tr/2mI1QQSiyIa2cT3zhRbmkh/2b8374addd74ab5cbae35cf7012755a5/IMG_4021.jpeg" alt="IMG 4021"/></p>
<p><img src="//images.ctfassets.net/o4gibwve10tr/62B49eLAgctXUbm4v1qeRW/47efa2121977eb7b2891f8377f812d06/IMG_4026.jpeg" alt="codecard_version2"/></p>
<p><img src="//images.ctfassets.net/o4gibwve10tr/56sBNoSNsXQZ5XdocjSGNK/39764ddc581f2447ce04bc205985e8d1/IMG_4193.jpeg" alt="codecard_version3"/></p>
<p><img src="//images.ctfassets.net/o4gibwve10tr/6ZeUg2gEs2LKliWUxQe7b3/6c96e666f76321dc95f1c46e98ac6990/IMG_4254.jpeg" alt="codecard_version5"/></p>
<p><img src="//images.ctfassets.net/o4gibwve10tr/1xUfwFWDIH753ct1OQAhk4/b5ecc1d21a15c4ea568602509eb55b7d/IMG_4269.jpeg" alt="codecard_version4"/></p>
<p><img src="//images.ctfassets.net/o4gibwve10tr/3Ry5sZT37UtzGqutwEQ9w8/3e65e7a82360037de701fc37d9dbbc35/IMG_4272.jpeg" alt="codecard"/></p></div></div><div class="post-social"><h6 class="title is-6">Share:</h6><button class="button is-outlined is-rounded facebook"><span class="icon"><i class="fab fa-facebook-f"></i></span><span class="text">Facebook</span></button><button class="button is-outlined is-rounded twitter"><span class="icon"><i class="fab fa-twitter"></i></span><span class="text">Twitter</span></button></div></div></div></main></div><div class="site-footer" id="footer"><div class="container"><span>Copyright © <!-- -->Michael Lunzer<!-- --> <!-- -->2025</span></div></div><!--$--><!--/$--><script src="/_next/static/chunks/webpack-59b2e0708c30977e.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7555,[],\"\"]\n3:I[1295,[],\"\"]\n6:I[9665,[],\"OutletBoundary\"]\n8:I[4911,[],\"AsyncMetadataOutlet\"]\na:I[9665,[],\"ViewportBoundary\"]\nc:I[9665,[],\"MetadataBoundary\"]\nd:\"$Sreact.suspense\"\nf:I[8393,[],\"\"]\n:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/931b179cff3131dc.css\",\"style\"]\n:HL[\"/_next/static/css/f56e075401be6041.css\",\"style\"]\n:HL[\"/_next/static/css/bf413bc97a2d8c3a.css\",\"style\"]\n:HL[\"/_next/static/css/b9c247a1f9d5af8a.css\",\"style\"]\n:HL[\"/_next/static/css/f055e431c58b907b.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"IoBMdfHoLDtHEYMLnK0Ai\",\"p\":\"\",\"c\":[\"\",\"projects\",\"esphome-oracle-code-card-epaper-display\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"projects\",{\"children\":[[\"slug\",\"esphome-oracle-code-card-epaper-display\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/931b179cff3131dc.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f56e075401be6041.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/x-icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"32x32\",\"href\":\"/favicon-32x32.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"180x180\",\"href\":\"/apple-touch-icon-180x180.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"152x152\",\"href\":\"/apple-touch-icon-152x152.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"144x144\",\"href\":\"/apple-touch-icon-144x144.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"120x120\",\"href\":\"/apple-touch-icon-120x120.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"114x114\",\"href\":\"/apple-touch-icon-114x114.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"76x76\",\"href\":\"/apple-touch-icon-76x76.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"72x72\",\"href\":\"/apple-touch-icon-72x72.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"57x57\",\"href\":\"/apple-touch-icon-57x57.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-touch-icon.png\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/style.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/font-awesome.css\"}]]}],[\"$\",\"body\",null,{\"className\":\"__className_e8ce0c\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$L4\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/bf413bc97a2d8c3a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b9c247a1f9d5af8a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[\"projects\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"esphome-oracle-code-card-epaper-display\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/bf413bc97a2d8c3a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b9c247a1f9d5af8a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f055e431c58b907b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"promise\":\"$@9\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]],[\"$\",\"$Lc\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$d\",null,{\"fallback\":null,\"children\":\"$Le\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$f\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"9:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Personal Site\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"@michaellunzer\"}],[\"$\",\"meta\",\"3\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"Personal Site\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:url\",\"content\":\"https://www.michaellunzer.com/\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:site_name\",\"content\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:title\",\"content\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:description\",\"content\":\"Personal Site\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"e:\"$9:metadata\"\n"])</script><script>self.__next_f.push([1,"10:I[658,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"419\",\"static/chunks/app/projects/%5Bslug%5D/page-b84bae1ee5664536.js\"],\"default\"]\n11:I[6874,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"893\",\"static/chunks/app/projects/page-e2e8a22ab075e965.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"$L10\",null,{\"siteInfo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"1vaZauN3G1LbRsJutH3AU9\",\"type\":\"Entry\",\"createdAt\":\"2020-05-28T21:29:56.813Z\",\"updatedAt\":\"2022-04-19T07:19:17.934Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":45,\"revision\":18,\"contentType\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"ContentType\",\"id\":\"siteInformation\"}},\"locale\":\"en-US\"},\"fields\":{\"siteName\":\"Michael Lunzer\",\"siteUrl\":\"https://michaellunzer.com\",\"logo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"7yHuAa09NVOcZ25POk7cbM\",\"type\":\"Asset\",\"createdAt\":\"2020-05-28T21:29:46.445Z\",\"updatedAt\":\"2020-07-03T23:34:40.696Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":35,\"revision\":10,\"locale\":\"en-US\"},\"fields\":{\"title\":\"ML-logo-white\",\"file\":{\"url\":\"//images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png\",\"details\":{\"size\":31304,\"image\":{\"width\":319,\"height\":302}},\"fileName\":\"ML-logo-white.png\",\"contentType\":\"image/png\"}}},\"twiteerHandle\":\"@michaellunzer\",\"siteDescription\":\"Personal Site\",\"menus\":[\"Blogs\",\"Photos\",\"About\",\"Contact\",\"Work\",\"Map\",\"Resume\",\"Projects\",\"Bucket List\",\"Spotify\"]}},\"children\":[null,[\"$\",\"div\",null,{\"className\":\"site-container\",\"children\":[\"$\",\"div\",null,{\"className\":\"container\",\"children\":[\"$\",\"div\",null,{\"className\":\"row\",\"children\":[\"$\",\"div\",null,{\"className\":\"col-sm-12 text-center\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"404 - Page Not Found\"}],[\"$\",\"p\",null,{\"children\":\"The page you're looking for doesn't exist.\"}],[\"$\",\"$L11\",null,{\"href\":\"/\",\"className\":\"btn btn-primary\",\"children\":\"Go back home\"}]]}]}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"12:I[3063,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"419\",\"static/chunks/app/projects/%5Bslug%5D/page-b84bae1ee5664536.js\"],\"Image\"]\n13:I[2370,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"419\",\"static/chunks/app/projects/%5Bslug%5D/page-b84bae1ee5664536.js\"],\"default\"]\n14:T551b,"])</script><script>self.__next_f.push([1,"I'm a big fan of ePaper displays - it's easier on the eyes compared to LED based displays and is great for low powered devices like Pebble Watches and Kindle eBook readers. \n\nI'm using an [Oracle Code Card](https://hackaday.com/2018/10/31/corporate-badgelife-oracles-code-card/) badge [I got at a conference](https://learncodeshare.net/2019/09/24/you-went-to-oracle-open-world-19-and-got-a-code-card-now-what/). It has a 2.7 inch display and is based on [the $29 badgy](https://www.tindie.com/products/squarofumi/badgy-iot-badge/) if you want to do this project yourself.\n\n# Finished Product:\n![codecard](//images.ctfassets.net/o4gibwve10tr/3Ry5sZT37UtzGqutwEQ9w8/3e65e7a82360037de701fc37d9dbbc35/IMG_4272.jpeg)\n\n# The Setup:\n\nYou need to add a couple sensors to home assistant first. You can find the specific file [here](https://github.com/fredrike/esphome-nodes/blob/master/homeassistant-config/package-display_node.yaml) in @fredrike's github page. Add this file to your packages folder inside your config folder. (here: `~/config/packages`). If you don't already have a packages folder, make sure to include this line under the `homeassistant:` header like so:\n\n ```yaml\n homeassistant:\n   packages: !include_dir_named packages\n ```\n\n# Home Assistant Configuration:\nthe blank \" \" squares you see in the config are [Material Design Icons](https://cdn.materialdesignicons.com/5.4.55/). Sometimes the icons get lost in translation when copy/pasting them.  \n\nIf you're unable to copy/paste the code below and retain the Material Design Icons, try copying/pasting from here: \n\nhttps://github.com/fredrike/esphome-nodes/blob/master/homeassistant-config/package-display_node.yaml\n\nIf that doesn't work, most of them are commented, so you can copy/paste each individual one from here: [Material Design Icons](https://cdn.materialdesignicons.com/5.4.55/).\n\n`~/config/packages/display_node.yaml`\n\n```yaml\nsensor:\n  - platform: moon\n  - platform: template\n    sensors:\n      moon_tpl:\n        entity_id: sensor.moon\n        value_template: \u003e-\n          {% set map = {\n            \"new_moon\": \"󰽤\",\n            \"waxing_crecent\": \"󰽧\",\n            \"first_quarter\": \"󰽡\",\n            \"waxing_gibbous\": \"󰽨\",\n            \"full_moon\": \"󰽢\",\n            \"waning_gibbous\": \"󰽦\",\n            \"last_quarter\": \"󰽣\",\n            \"waning_crescent\": \"󰽥\"\n          } %}\n          {{- map[states('sensor.moon')] -}}\n  - platform: template\n    sensors:\n      forecast_today:\n        entity_id: sensor.time\n        value_template: \u003e-\n          {% set weather = {\n            \"clear-day\": \"󰖙\", \n            \"clear-night\": \"󰖔\", \n            \"cloudy\": \"󰖐\", \n            \"rain\": \"󰖖\", \n            \"sleet\": \"󰙿\", \n            \"snow\": \"󰼶\", \n            \"wind\": \"󰖞\", \n            \"fog\": \"󰖑\", \n            \"partly-cloudy-day\": \"󰖕\", \n            \"partly-cloudy-night\": \"󰼱\" \n          } %}\n          {% set base = 'sensor.dark_sky_forecast_' %}\n\n          {{- weather[states('{}icon_{}d'.format(base, 0))] -}};\n          {{- states('{}apparent_temperature'.format(base)) -}}°;\n          {{- states('{}precip_probability_{}d'.format(base, 0))|int -}}\n  - platform: darksky #https://pastebin.com/iX7u4ZSg\n    api_key: !secret darksky_api_key\n    name: dark_sky_forecast\n    scan_interval: '00:10'\n    forecast:\n      - 0\n      - 1\n      - 2\n      - 3\n      - 4\n    monitored_conditions:\n      - icon\n      - temperature\n      - apparent_temperature\n      - temperature_high\n      - temperature_low\n      - precip_probability\n      - precip_intensity\n  - platform: template\n    sensors:\n      forecast:\n        entity_id: sensor.time\n        value_template: \u003e-\n          {% set dow = {\n           0: \"Mon\",\n           1: \"Tue\",\n           2: \"Wed\",\n           3: \"Thu\",\n           4: \"Fri\",\n           5: \"Sat\",\n           6: \"Sun\"\n          } %}\n\n          {% set weather = {\n            \"clear-day\": \"mdi:weather-sunny\",\n            \"clear-night\": \"mdi:weather-night\",\n            \"cloudy\": \"mdi:weather-cloudy\",\n            \"rain\": \"mdi:weather-pouring\",\n            \"sleet\": \"mdi:weather-snowy-rainy\",\n            \"snow\": \"mdi:weather-snowy\",\n            \"wind\": \"mdi:weather-windy\",\n            \"fog\": \"mdi:weather-fog\",\n            \"partly-cloudy-day\": \"mdi:weather-partly-cloudy\",\n            \"partly-cloudy-night\": \"mdi:weather-night-partly-cloudy\"\n          } %}\n          {% set weather = {\n            \"clear-day\": \"󰖙\", \n            \"clear-night\": \"󰖔\", \n            \"cloudy\": \"󰖐\", \n            \"rain\": \"󰖖\", \n            \"sleet\": \"󰙿\", \n            \"snow\": \"󰼶\", \n            \"wind\": \"󰖞\", \n            \"fog\": \"󰖑\", \n            \"partly-cloudy-day\": \"󰖕\", \n            \"partly-cloudy-night\": \"󰼱\" \n          } %}\n\n          {% set base = 'sensor.dark_sky_forecast_' %}\n\n          {%- for i in [ 1, 2, 3, 4] -%}\n            {{ dow[(now().weekday() + i) % 7]  }};\n            {{- weather[states('{}icon_{}d'.format(base, i))] -}};\n            {{- states('{}daytime_high_temperature_{}d'.format(base, i))|int\n            -}}°/\n            {{- states('{}overnight_low_temperature_{}d'.format(base, i))|int -}}°;\n            {{- states('{}precip_probability_{}d'.format(base, i))|int -}}%\n            {%- if not loop.last %};{% endif %}\n          {%- endfor %}\n```\n\n# ESPHome Code: \n\nIf you're unable to copy/paste the code below and retain the Material Design Icons, try copying/pasting from here: \n\nhttps://gist.github.com/michaellunzer/37f29462ee9a17f22978e672c59e440c\n\n```yaml\nesphome:\n  name: codecard3\n  platform: ESP8266\n  board: esp12e\n  # on_boot:\n  #     - output.turn_off: onboard_led\n\nwifi:\n  ssid: !secret wifi_ssid\n  password: !secret wifi_password\n\n# Enable logging\nlogger:\n\n# Enable Home Assistant API\napi:\n\nota:\n\nspi:\n  clk_pin: GPIO14\n  mosi_pin: GPIO13\n\n# s= '@!\"%()+,-_.:°0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz.'\n# print([','.join(_) for _ in s])\n\nfont:\n  - file: 'fonts/Google_Sans_Bold.ttf'\n    id: clock_font\n    size: 45\n    glyphs:\n      ['\u0026', '@', '!', ',', '.', '\"', '%', '(', ')', '+', '-', '_', ':', '°', '0',\n       '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E',\n       'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S',\n       'T', 'U', 'V', 'W', 'X', 'Y', 'Z', ' ', 'a', 'b', 'c', 'd', 'e', 'f',\n       'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',\n       'u', 'v', 'w', 'x', 'y', 'z','å', 'ä', 'ö', '/']\n  - file: 'fonts/Google_Sans_Medium.ttf'\n    id: temp_font\n    size: 32\n    glyphs:\n      ['\u0026', '@', '!', ',', '.', '\"', '%', '(', ')', '+', '-', '_', ':', '°', '0',\n       '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E',\n       'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S',\n       'T', 'U', 'V', 'W', 'X', 'Y', 'Z', ' ', 'a', 'b', 'c', 'd', 'e', 'f',\n       'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',\n       'u', 'v', 'w', 'x', 'y', 'z','å', 'ä', 'ö', '/']\n  - file: 'fonts/Google_Sans_Bold.ttf'\n    id: status_font\n    size: 18\n    glyphs:\n      ['\u0026', '@', '!', ',', '.', '\"', '%', '(', ')', '+', '-', '_', ':', '°', '0',\n       '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E',\n       'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S',\n       'T', 'U', 'V', 'W', 'X', 'Y', 'Z', ' ', 'a', 'b', 'c', 'd', 'e', 'f',\n       'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',\n       'u', 'v', 'w', 'x', 'y', 'z', 'å', 'ä', 'ö', '/']\n  - file: 'fonts/Google_Sans_Medium.ttf'\n    id: aqi_font\n    size: 18\n    glyphs:\n      ['\u0026', '@', '!', ',', '.', '\"', '%', '(', ')', '+', '-', '_', ':', '°', '0',\n       '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E',\n       'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S',\n       'T', 'U', 'V', 'W', 'X', 'Y', 'Z', ' ', 'a', 'b', 'c', 'd', 'e', 'f',\n       'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',\n       'u', 'v', 'w', 'x', 'y', 'z', 'å', 'ä', 'ö', '/']\n  - file: 'fonts/materialdesignicons-webfont.ttf'\n    id: icon_font\n    size: 32\n    glyphs: [\n      '󰢙', # mdi-account-heart\n      '󰔏', # mdi-thermometer\n      '󱄷', # mdi-fire-hydrant\n      \"󰕊\", # mdi-umbrella\n      \"󰽕\", # mdi-home-thermometer-outline\n      \"󰽔\", # mdi-home-thermometer\n      \"󰵃\", # mdi-air-filter\n      # Wifi\n      '󰤯', # mdi-wifi-strength-outline\n      '󰤟', # mdi-wifi-strength-1\n      '󰤢', # mdi-wifi-strength-2\n      '󰤥', # mdi-wifi-strength-3\n      '󰤨', # mdi-wifi-strength-4\n      # Weather\n      \"󰖙\", # mdi-weather-sunny\n      \"󰖔\", # mdi-weather-night\n      \"󰖐\", # mdi-weather-cloudy\n      \"󰖖\", # mdi-weather-pouring\n      \"󰙿\", # mdi-weather-snowy-rainy\n      \"󰼶\", # mdi-weather-snowy-heavy\n      \"󰖞\", # mdi-weather-windy-variant\n      \"󰖑\", # mdi-weather-fog\n      \"󰼱\", # mdi-weather-night-partly-cloudy\n      \"󰖕\", # mdi-weather-partly-cloudy\n      # Moon\n      \"󰽤\", # new_moon\n      \"󰽧\", # waxing_crecent\n      \"󰽡\", # first_quarter\n      \"󰽨\", # waxing_gibbous\n      \"󰽢\", # full_moon\n      \"󰽦\", # waning_gibbous\n      \"󰽣\", # last_quarter\n      \"󰽥\", # waning_crescent\n      # Sun\n      \"󰖛\", # mdi-weather-sunset-down\n      \"󰖜\", # mdi-weather-sunset-up\n      ]\n  - file: 'fonts/materialdesignicons-webfont.ttf'\n    id: weather_font\n    size: 50\n    glyphs: [\n      '󰢙', # mdi-account-heart\n      '󰔏', # mdi-thermometer\n      '󱄷', # mdi-fire-hydrant\n      \"󰕊\", # mdi-umbrella\n      \"󰽕\", # mdi-home-thermometer-outline\n      \"󰽔\", # mdi-home-thermometer\n      \"󰵃\", # mdi-air-filter\n      # Wifi\n      '󰤯', # mdi-wifi-strength-outline\n      '󰤟', # mdi-wifi-strength-1\n      '󰤢', # mdi-wifi-strength-2\n      '󰤥', # mdi-wifi-strength-3\n      '󰤨', # mdi-wifi-strength-4\n      # Weather\n      \"󰖙\", # mdi-weather-sunny\n      \"󰖔\", # mdi-weather-night\n      \"󰖐\", # mdi-weather-cloudy\n      \"󰖖\", # mdi-weather-pouring\n      \"󰙿\", # mdi-weather-snowy-rainy\n      \"󰼶\", # mdi-weather-snowy-heavy\n      \"󰖞\", # mdi-weather-windy-variant\n      \"󰖑\", # mdi-weather-fog\n      \"󰼱\", # mdi-weather-night-partly-cloudy\n      \"󰖕\", # mdi-weather-partly-cloudy\n      # Moon\n      \"󰽤\", # new_moon\n      \"󰽧\", # waxing_crecent\n      \"󰽡\", # first_quarter\n      \"󰽨\", # waxing_gibbous\n      \"󰽢\", # full_moon\n      \"󰽦\", # waning_gibbous\n      \"󰽣\", # last_quarter\n      \"󰽥\", # waning_crescent\n      # Sun\n      \"󰖛\", # mdi-weather-sunset-down\n      \"󰖜\", # mdi-weather-sunset-up\n      ]\n  - file: 'fonts/materialdesignicons-webfont.ttf'\n    id: current_weather_font\n    size: 80\n    glyphs: [\n      '󰢙', # mdi-account-heart\n      '󰔏', # mdi-thermometer\n      '󱄷', # mdi-fire-hydrant\n      \"󰕊\", # mdi-umbrella\n      \"󰽕\", # mdi-home-thermometer-outline\n      \"󰽔\", # mdi-home-thermometer\n      \"󰵃\", # mdi-air-filter\n      # Wifi\n      '󰤯', # mdi-wifi-strength-outline\n      '󰤟', # mdi-wifi-strength-1\n      '󰤢', # mdi-wifi-strength-2\n      '󰤥', # mdi-wifi-strength-3\n      '󰤨', # mdi-wifi-strength-4\n      # Weather\n      \"󰖙\", # mdi-weather-sunny\n      \"󰖔\", # mdi-weather-night\n      \"󰖐\", # mdi-weather-cloudy\n      \"󰖖\", # mdi-weather-pouring\n      \"󰙿\", # mdi-weather-snowy-rainy\n      \"󰼶\", # mdi-weather-snowy-heavy\n      \"󰖞\", # mdi-weather-windy-variant\n      \"󰖑\", # mdi-weather-fog\n      \"󰼱\", # mdi-weather-night-partly-cloudy\n      \"󰖕\", # mdi-weather-partly-cloudy\n      # Moon\n      \"󰽤\", # new_moon\n      \"󰽧\", # waxing_crecent\n      \"󰽡\", # first_quarter\n      \"󰽨\", # waxing_gibbous\n      \"󰽢\", # full_moon\n      \"󰽦\", # waning_gibbous\n      \"󰽣\", # last_quarter\n      \"󰽥\", # waning_crescent\n      # Sun\n      \"󰖛\", # mdi-weather-sunset-down\n      \"󰖜\", # mdi-weather-sunset-up\n      ]\n\n# 264 x 176 display\ndisplay:\n  - platform: waveshare_epaper\n    id: epaper\n    cs_pin: GPIO2\n    busy_pin: GPIO5\n    reset_pin: GPIO4\n    dc_pin: GPIO0\n    model: 2.70in\n    rotation: 270°\n    # full_update_every: 30\n    # 264 x 176 display\n    update_interval: 3600s\n    lambda: |\n      int x, y;\n      ESP_LOGI(\"display\", \"Updating..\");\n\n      /* Print time in HH:MM format */\n      it.strftime(0, -10, id(clock_font), TextAlign::TOP_LEFT, \"%I:%M\", id(current_time).now());\n      /* Print AM/PM */\n      it.strftime(120, 15, id(status_font), TextAlign::TOP_LEFT, \"%P\", id(current_time).now());\n      it.strftime(65, 40, id(status_font), TextAlign::TOP_LEFT, \"%b %e, %Y\", id(current_time).now());\n\n      // it.line(259, -10, 259, 200);it.line(261, 0, 261, 200);it.line(260, 0, 260, 200);\n      // it.line(0, 200, 259, 200);it.line(0, 201, 261, 201);it.line(0, 202, 260, 202);\n      /*\n      it.print(125, 120, id(temp_font), TextAlign::BASELINE_CENTER, \"HELLO SUNSHINE!\");\n      it.print(125, 160, id(icon_font), TextAlign::BASELINE_CENTER, \"󰢙\");\n      it.print(125, 182, id(temp_font), TextAlign::BASELINE_CENTER, \"Lea \u0026 Emma\"); // 400 - ((400 - 260)/2)\n      */\n      /* Moon icon - used to be y = 155, x = 230 */\n      if(id(moon_icon).has_state()) {\n        y = 165, x = 20;\n        ESP_LOGI(\"Moon icon\", \"%s\", id(moon_icon).state.c_str());\n        it.printf(x, y, id(icon_font), TextAlign::BASELINE_CENTER, \"%s\", id(moon_icon).state.c_str());\n      }\n      /* WiFi Signal Strenght          x = 398, y = 298; */\n      if(id(wifisignal).has_state()) {\n        x = 175, y = 30;\n        if (id(wifisignal).state \u003e= -50) {\n            //Excellent\n            it.print(x, y, id(icon_font), TextAlign::BOTTOM_RIGHT, \"󰤨\");\n            ESP_LOGI(\"WiFi\", \"Exellent\");\n        } else if (id(wifisignal).state  \u003e= -60) {\n            //Good\n            it.print(x, y, id(icon_font), TextAlign::BOTTOM_RIGHT, \"󰤥\");\n            ESP_LOGI(\"WiFi\", \"Good\");\n        } else if (id(wifisignal).state  \u003e= -67) {\n            //Fair\n            it.print(x, y, id(icon_font), TextAlign::BOTTOM_RIGHT, \"󰤢\");\n            ESP_LOGI(\"WiFi\", \"Fair\");\n        } else if (id(wifisignal).state  \u003e= -70) {\n            //Weak\n            it.print(x, y, id(icon_font), TextAlign::BOTTOM_RIGHT, \"󰤟\");\n            ESP_LOGI(\"WiFi\", \"Weak\");\n        } else {\n            //Unlikely working signal\n            it.print(x, y, id(icon_font), TextAlign::BOTTOM_RIGHT, \"󰤯\");\n            ESP_LOGI(\"WiFi\", \"Unlikely\");\n        }\n      }\n\n      // Current weather\n      if(id(weather_forecast_today).has_state()) {\n        std::string str = id(weather_forecast_today).state;\n        ESP_LOGI(\"Weather\", \"%s\", str.c_str());\n        std::size_t current, previous = 0;\n        char delim = ';';\n        current = str.find(delim);\n        int y = 100, x = 5;\n        for (int i=0; i\u003c3; i++) {\n            if(i == 0) {\n              it.printf(x - 15, y, id(current_weather_font),\n                TextAlign::BASELINE_LEFT,\n                \"%s\", str.substr(previous, current - previous).c_str());\n            } else if (i == 1) {\n              ESP_LOGD(\"weather\",\"%dx%d %s\", (i % 1 ? 270 : 320), x,\n                str.substr(previous, current - previous).c_str());\n              /* it.printf(y, x, id(status_font),\n                TextAlign::TOP_LEFT,\n                \"%s\", str.substr(previous, current - previous).c_str());\n              */\n            } else if (i == 2) { // Chance for rain\n              it.printf(x, y + 2, id(icon_font), TextAlign::TOP_LEFT, \"󰕊\"); // Umbrella\n              it.printf(x + 30, y + 10, id(status_font),\n                TextAlign::TOP_LEFT,\n                \"%s%%\", str.substr(previous, current - previous).c_str());\n            }\n            // y += 100;\n            previous = current + 1;\n            current = str.find(delim, previous);\n        }\n      }\n\n      // Print inside temperature (from homeassistant sensor)\n      y = 135, x = 100;\n      if (id(inside_temperature).has_state()) {\n        it.print(x, y, id(icon_font), TextAlign::BOTTOM_RIGHT, \"󰽕\");\n        it.printf(x, y + 4, id(temp_font), TextAlign::BOTTOM_LEFT , \"%5.1f°\", id(inside_temperature).state);\n      }\n      // Print outside temperature (from homeassistant sensor)\n      if (id(outside_temperature).has_state()) {\n        it.print(x, y + 4, id(icon_font), TextAlign::TOP_RIGHT, \"󰽔\"); \n        it.printf(x, y, id(temp_font), TextAlign::TOP_LEFT, \"%5.1f°\", id(outside_temperature).state);\n      }\n\n      // Print sniffer0 air quality index sensor (from homeassistant sensor)\n      if (id(sniffer0_aqi).has_state()) {\n         x = 91, y = 60;\n        it.print(x + 10, y + 4, id(icon_font), TextAlign::TOP_RIGHT, \"󰵃\"); \n        it.printf(x - 4, y, id(temp_font), TextAlign::TOP_LEFT, \"%5.0f\", id(sniffer0_aqi).state);\n        it.print(x + 87, y + 16, id(aqi_font), TextAlign::TOP_RIGHT, \"AQI\"); \n\n      }\n\n      /*// Print consumer\n      if (id(top_consumer).has_state()) {\n        it.printf(0, 295, id(status_font), TextAlign::BOTTOM_LEFT , \"Total: %.0f W, %s W\", id(sparsnas).state, id(top_consumer).state.c_str());\n      }\n      */\n\n      it.line(180, 0, 180, 176);\n      it.line(0, 103, 180, 103);\n\n      // std::string str = \"mon:cloud:12.1:30%:tue:rain:10.2:40%:wed:sunny:18.0:0%:thu:snow:-12.2:10%\";\n      // Mon;;65°/53°;12%;Tue;;70°/56°;7%;Wed;;73°/55°;2%;Thu;;73°/55°;1%\n      if(id(weather_forecast).has_state()) {\n        std::string str = id(weather_forecast).state;\n        ESP_LOGI(\"Weather\", \"%s\", str.c_str());\n        std::size_t current, previous = 0;\n        char delim = ';';\n        current = str.find(delim);\n        int x = 240, y = 0;\n        // changed from x = 340, y = 4\n        for (int i=0; i\u003c4; i++) {\n          ESP_LOGI(\"t\", \"%d\", i);\n          for (int j=0; j\u003c4; j++) {\n            if(j == 1) {  // Weather icon.\n              it.printf(x - 65, y + 25, id(weather_font),\n                TextAlign::BASELINE_LEFT,\n                \"%s\", str.substr(previous, current - previous).c_str());\n            } else {\n              ESP_LOGD(\"weather\",\"%dx%d %s\", (j % 1 ? 270 : 320), x,\n                str.substr(previous, current - previous).c_str());\n              it.printf((j == 0 ? x - 15 : 390), y,\n                id(status_font),\n                (j == 0 ? TextAlign::TOP_LEFT : TextAlign::TOP_RIGHT),\n                \"%s\", str.substr(previous, current - previous).c_str());\n              y += 16;\n            }\n            previous = current + 1;\n            current = str.find(delim, previous);\n          }\n          y += 2;\n        }\n      }\n\n# output:\n#   - platform: gpio\n#     id: onboard_led\n#     pin:\n#       number: 2\n#       inverted: False\n\n# light:\n#   - platform: binary\n#     name: \"Onboard LED\"\n#     output: onboard_led\n\ntime:\n  - platform: homeassistant\n    id: current_time\n    timezone: America/Los_Angeles\n    on_time:\n      # Every 1 minutes\n      - seconds: 0\n        then:\n          - component.update: epaper\n\nsensor:\n  - platform: homeassistant\n    id: inside_temperature\n    entity_id: sensor.sn1_temperature\n    internal: true\n\n  - platform: homeassistant\n    id: sniffer0_aqi\n    entity_id: sensor.sniffer0_pm_2_5_aqi\n    internal: true\n\n  - platform: homeassistant\n    id: outside_temperature\n    entity_id: sensor.openweathermap_forecast_temperature\n    internal: true\n\n  # - platform: homeassistant\n  #   entity_id: sensor.sparsnas_energy_consumption_momentary\n  #   id: sparsnas\n  #   internal: true\n\n  - platform: homeassistant\n    entity_id: sensor.dark_sky_precip_probability\n    id: precip_probability\n    internal: true\n\n  - platform: wifi_signal\n    name: \"WiFi Signal Sensor\"\n    id: wifisignal\n    update_interval: 60s\n\ntext_sensor:\n  # - platform: homeassistant\n  #   id: top_consumer\n  #   entity_id: sensor.iotawatt_top_consumer\n  #   internal: true\n\n  - platform: homeassistant\n    name: forecast\n    id: weather_forecast\n    entity_id: sensor.forecast\n    internal: true\n\n  - platform: homeassistant\n    name: forecast\n    id: weather_forecast_today\n    entity_id: sensor.forecast_today\n    internal: true\n\n  - platform: homeassistant\n    id: moon_icon\n    entity_id: sensor.moon_tpl\n```\n\nThis was based heavily on [@fredrike's code](https://github.com/fredrike/esphome-nodes/blob/f7a3a225c417d651b4a3937708ea4d4b2d0827ed/homeassistant-config/package-display_node.yaml) and so there are still some vestigal structures of his code commented out in my code. @Fredrike, if you see this, thanks for your inspiration!\n\n# Future hardware:\n\nI realize that I'm pretty lucky to get ahold of a limited run piece of hardware specially made for a conference. I was hoping that I was watching YouTube while writing this post and saw [a new product from Adafruit](https://www.adafruit.com/product/4777) that this code could potentially work on in the future.\n\nAlso, [the badgy](https://www.tindie.com/products/squarofumi/badgy-iot-badge/) looks like a great alternative. \n\n# Display Iterations\n\n![codecard_hello_world](//images.ctfassets.net/o4gibwve10tr/3PcSeOOy7f392aqflN7OWA/7c3d493bbb5d22174e2add6b7d0d2601/IMG_3933.jpeg)\n\n![IMG 4021](//images.ctfassets.net/o4gibwve10tr/2mI1QQSiyIa2cT3zhRbmkh/2b8374addd74ab5cbae35cf7012755a5/IMG_4021.jpeg)\n\n![codecard_version2](//images.ctfassets.net/o4gibwve10tr/62B49eLAgctXUbm4v1qeRW/47efa2121977eb7b2891f8377f812d06/IMG_4026.jpeg)\n\n![codecard_version3](//images.ctfassets.net/o4gibwve10tr/56sBNoSNsXQZ5XdocjSGNK/39764ddc581f2447ce04bc205985e8d1/IMG_4193.jpeg)\n\n![codecard_version5](//images.ctfassets.net/o4gibwve10tr/6ZeUg2gEs2LKliWUxQe7b3/6c96e666f76321dc95f1c46e98ac6990/IMG_4254.jpeg)\n\n![codecard_version4](//images.ctfassets.net/o4gibwve10tr/1xUfwFWDIH753ct1OQAhk4/b5ecc1d21a15c4ea568602509eb55b7d/IMG_4269.jpeg)\n\n![codecard](//images.ctfassets.net/o4gibwve10tr/3Ry5sZT37UtzGqutwEQ9w8/3e65e7a82360037de701fc37d9dbbc35/IMG_4272.jpeg)"])</script><script>self.__next_f.push([1,"5:[\"$\",\"$L10\",null,{\"siteInfo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"1vaZauN3G1LbRsJutH3AU9\",\"type\":\"Entry\",\"createdAt\":\"2020-05-28T21:29:56.813Z\",\"updatedAt\":\"2022-04-19T07:19:17.934Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":45,\"revision\":18,\"contentType\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"ContentType\",\"id\":\"siteInformation\"}},\"locale\":\"en-US\"},\"fields\":{\"siteName\":\"Michael Lunzer\",\"siteUrl\":\"https://michaellunzer.com\",\"logo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"7yHuAa09NVOcZ25POk7cbM\",\"type\":\"Asset\",\"createdAt\":\"2020-05-28T21:29:46.445Z\",\"updatedAt\":\"2020-07-03T23:34:40.696Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":35,\"revision\":10,\"locale\":\"en-US\"},\"fields\":{\"title\":\"ML-logo-white\",\"file\":{\"url\":\"//images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png\",\"details\":{\"size\":31304,\"image\":{\"width\":319,\"height\":302}},\"fileName\":\"ML-logo-white.png\",\"contentType\":\"image/png\"}}},\"twiteerHandle\":\"@michaellunzer\",\"siteDescription\":\"Personal Site\",\"menus\":[\"Blogs\",\"Photos\",\"About\",\"Contact\",\"Work\",\"Map\",\"Resume\",\"Projects\",\"Bucket List\",\"Spotify\"]}},\"children\":[null,[\"$\",\"div\",null,{\"className\":\"site-container project-post\",\"children\":[\"$\",\"div\",null,{\"className\":\"container\",\"children\":[[\"$\",\"div\",null,{\"className\":\"feature-img\",\"children\":[\"$\",\"$L12\",null,{\"src\":\"https://images.ctfassets.net/o4gibwve10tr/3Ry5sZT37UtzGqutwEQ9w8/9a4c50fa9c7f53b42c4f425c5244b5eb/IMG_4272.jpeg\",\"alt\":\"ESPHome Oracle Code Card ePaper Display\",\"width\":1500,\"height\":800,\"className\":\"img-fluid\",\"style\":{\"objectFit\":\"cover\",\"objectPosition\":\"50% 50%\"}}]}],[\"$\",\"div\",null,{\"className\":\"details\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"title\",\"children\":\"ESPHome Oracle Code Card ePaper Display\"}],[\"$\",\"span\",null,{\"className\":\"date\",\"children\":[[\"$\",\"i\",null,{\"className\":\"fas fa-calendar-alt\"}],\" \",\"October 20, 2020\"]}],[\"$\",\"$L13\",null,{\"content\":\"$14\"}]]}],\"$L15\"]}]}]]}]\n"])</script><script>self.__next_f.push([1,"16:I[5183,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"419\",\"static/chunks/app/projects/%5Bslug%5D/page-b84bae1ee5664536.js\"],\"default\"]\n15:[\"$\",\"$L16\",null,{\"socialConfig\":{\"siteurl\":\"https://michaellunzer.com\",\"twitterHandle\":\"@michaellunzer\",\"config\":{\"url\":\"https://michaellunzer.com/projects/esphome-oracle-code-card-epaper-display\",\"title\":\"ESPHome Oracle Code Card ePaper Display\"}}}]\n"])</script></body></html>