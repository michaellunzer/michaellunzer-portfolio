1:"$Sreact.fragment"
2:I[7555,[],""]
3:I[1295,[],""]
6:I[9665,[],"OutletBoundary"]
8:I[4911,[],"AsyncMetadataOutlet"]
a:I[9665,[],"ViewportBoundary"]
c:I[9665,[],"MetadataBoundary"]
d:"$Sreact.suspense"
f:I[8393,[],""]
:HL["/_next/static/media/e4af272ccee01ff0-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/931b179cff3131dc.css","style"]
:HL["/_next/static/css/f56e075401be6041.css","style"]
:HL["/_next/static/css/bf413bc97a2d8c3a.css","style"]
:HL["/_next/static/css/b9c247a1f9d5af8a.css","style"]
:HL["/_next/static/css/f055e431c58b907b.css","style"]
0:{"P":null,"b":"tiUpHt7fG-8CjpfaGfSTE","p":"","c":["","projects","home-assistant-wake-up-alarm-with-a-phone-call",""],"i":false,"f":[[["",{"children":["projects",{"children":[["slug","home-assistant-wake-up-alarm-with-a-phone-call","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/931b179cff3131dc.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/f56e075401be6041.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","children":[["$","head",null,{"children":[["$","link",null,{"rel":"icon","type":"image/x-icon","href":"/favicon.ico"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/favicon-32x32.png"}],["$","link",null,{"rel":"apple-touch-icon","sizes":"180x180","href":"/apple-touch-icon-180x180.png"}],["$","link",null,{"rel":"apple-touch-icon","sizes":"152x152","href":"/apple-touch-icon-152x152.png"}],["$","link",null,{"rel":"apple-touch-icon","sizes":"144x144","href":"/apple-touch-icon-144x144.png"}],["$","link",null,{"rel":"apple-touch-icon","sizes":"120x120","href":"/apple-touch-icon-120x120.png"}],["$","link",null,{"rel":"apple-touch-icon","sizes":"114x114","href":"/apple-touch-icon-114x114.png"}],["$","link",null,{"rel":"apple-touch-icon","sizes":"76x76","href":"/apple-touch-icon-76x76.png"}],["$","link",null,{"rel":"apple-touch-icon","sizes":"72x72","href":"/apple-touch-icon-72x72.png"}],["$","link",null,{"rel":"apple-touch-icon","sizes":"57x57","href":"/apple-touch-icon-57x57.png"}],["$","link",null,{"rel":"apple-touch-icon","href":"/apple-touch-icon.png"}],["$","link",null,{"rel":"stylesheet","href":"/style.css"}],["$","link",null,{"rel":"stylesheet","href":"/font-awesome.css"}]]}],["$","body",null,{"className":"__className_e8ce0c","children":["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$L4",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/bf413bc97a2d8c3a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/b9c247a1f9d5af8a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}]]}],{"children":["projects",["$","$1","c",{"children":[null,["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","home-assistant-wake-up-alarm-with-a-phone-call","d"],["$","$1","c",{"children":[null,["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L5",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/bf413bc97a2d8c3a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/b9c247a1f9d5af8a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/f055e431c58b907b.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$L6",null,{"children":["$L7",["$","$L8",null,{"promise":"$@9"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,[["$","$La",null,{"children":"$Lb"}],["$","meta",null,{"name":"next-size-adjust","content":""}]],["$","$Lc",null,{"children":["$","div",null,{"hidden":true,"children":["$","$d",null,{"fallback":null,"children":"$Le"}]}]}]]}],false]],"m":"$undefined","G":["$f",[]],"s":false,"S":true}
b:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
7:null
9:{"metadata":[["$","title","0",{"children":"Michael Lunzer"}],["$","meta","1",{"name":"description","content":"Personal Site"}],["$","meta","2",{"name":"author","content":"@michaellunzer"}],["$","meta","3",{"name":"robots","content":"index, follow"}],["$","meta","4",{"property":"og:title","content":"Michael Lunzer"}],["$","meta","5",{"property":"og:description","content":"Personal Site"}],["$","meta","6",{"property":"og:url","content":"https://www.michaellunzer.com/"}],["$","meta","7",{"property":"og:site_name","content":"Michael Lunzer"}],["$","meta","8",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","9",{"name":"twitter:title","content":"Michael Lunzer"}],["$","meta","10",{"name":"twitter:description","content":"Personal Site"}]],"error":null,"digest":"$undefined"}
e:"$9:metadata"
10:I[658,["778","static/chunks/778-f9403c0e33e1c074.js","63","static/chunks/63-b8ba2254fb9ac97a.js","231","static/chunks/231-25f0858d523e67a4.js","419","static/chunks/app/projects/%5Bslug%5D/page-dc1945ed8fd780cb.js"],"default"]
11:I[6874,["778","static/chunks/778-f9403c0e33e1c074.js","63","static/chunks/63-b8ba2254fb9ac97a.js","893","static/chunks/app/projects/page-72d57091bb988b6e.js"],""]
12:I[3063,["778","static/chunks/778-f9403c0e33e1c074.js","63","static/chunks/63-b8ba2254fb9ac97a.js","231","static/chunks/231-25f0858d523e67a4.js","419","static/chunks/app/projects/%5Bslug%5D/page-dc1945ed8fd780cb.js"],"Image"]
13:I[2370,["778","static/chunks/778-f9403c0e33e1c074.js","63","static/chunks/63-b8ba2254fb9ac97a.js","231","static/chunks/231-25f0858d523e67a4.js","419","static/chunks/app/projects/%5Bslug%5D/page-dc1945ed8fd780cb.js"],"default"]
4:["$","$L10",null,{"siteInfo":{"metadata":{"tags":[],"concepts":[]},"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"o4gibwve10tr"}},"id":"1vaZauN3G1LbRsJutH3AU9","type":"Entry","createdAt":"2020-05-28T21:29:56.813Z","updatedAt":"2022-04-19T07:19:17.934Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"publishedVersion":45,"revision":18,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"siteInformation"}},"locale":"en-US"},"fields":{"siteName":"Michael Lunzer","siteUrl":"https://michaellunzer.com","logo":{"metadata":{"tags":[],"concepts":[]},"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"o4gibwve10tr"}},"id":"7yHuAa09NVOcZ25POk7cbM","type":"Asset","createdAt":"2020-05-28T21:29:46.445Z","updatedAt":"2020-07-03T23:34:40.696Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"publishedVersion":35,"revision":10,"locale":"en-US"},"fields":{"title":"ML-logo-white","file":{"url":"//images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png","details":{"size":31304,"image":{"width":319,"height":302}},"fileName":"ML-logo-white.png","contentType":"image/png"}}},"twiteerHandle":"@michaellunzer","siteDescription":"Personal Site","menus":["Blogs","Photos","About","Contact","Work","Map","Resume","Projects","Bucket List","Spotify"]}},"children":[null,["$","div",null,{"className":"site-container","children":["$","div",null,{"className":"container","children":["$","div",null,{"className":"row","children":["$","div",null,{"className":"col-sm-12 text-center","children":[["$","h1",null,{"children":"404 - Page Not Found"}],["$","p",null,{"children":"The page you're looking for doesn't exist."}],["$","$L11",null,{"href":"/","className":"btn btn-primary","children":"Go back home"}]]}]}]}]}]]}]
14:T17b3,# Video Demo:

https://youtu.be/FxJ2FqBKSSE

# Update 2/25/2022

I put together the video above and presented the project during the Twilio Services Kickoff Demo Jam competition -- I got 3rd place! Woohooü•â

![Twilio 3rd Place (Front)](//images.ctfassets.net/o4gibwve10tr/24A6jFFrZV4iIwCblSEOvA/358fbf5e0421fe5b4fcedc97a649334b/Twilio_3rd_Place__Front_.png)

![Twilio 3rd Place (Back)](//images.ctfassets.net/o4gibwve10tr/2OmKMuuU65yFlvtSEJnxB7/e5541c82fd19a97c5d4fc94275b81ec6/Twilio_3rd_Place__Back_.png)

# Motivation:

Sometimes it's hard for me to get out of bed in the morning. I've tried a ton of things: 
- Waking up to music
- Automations that turn the lights on gently to simulate a sunrise
- Setting multiple alarms across the room
- An [Accountability Buddy](https://www.reddit.com/r/GetMotivatedBuddies/) / Internet Stranger to check in with each other in the morning to make sure we're up
- [Apps that ask me to do math problems](https://freeappsforme.com/alarm-clock-apps-with-math-challenges/)

But I always enjoyed getting the wake up call on business trips. Going off of that idea, I set up a landline in my house and acquired a really ~~annoying~~ loud phone with an actual bell to call me in the morning and wake me up with a quick math problem to get my brain activity going. 

If this doesn‚Äôt work, I‚Äôll have to look into making an ejector bed lol 

![Twilio Wake Up Call ejector bed gif](//images.ctfassets.net/o4gibwve10tr/6RXjg2TqWnkgjZG04mZeQ8/bfc8980ccf076899a5006012805775bd/_u_http_3A_2F_2Fi.giphy.com_2F3og0ISQyRWLAkOvg6A.gif_f_1_nofb_1)

# Try it out yourself:
__Call this number:__ (415) 358-6870

It will ask you a simple math question and tell you if you‚Äôre right or wrong. If you get scared talking to people on the phone, don‚Äôt be. It‚Äôs just a robot on the other side.

# Getting Started on the Twilio Console

First, I pulled up the Twilio Console and purchased a phone number ($1/mo)

Next, I navigated into Twilio Studio and built a Studio Flow that calls you when you hit the Studio Flow URL with a request from Home-Assistant.

![Twilio Wake Up Call Studio Flow](//images.ctfassets.net/o4gibwve10tr/31Li8fctiN6m1gZfoXyaFl/6a524701c1a2647899ebb20e2c03ee63/Screen_Shot_2021-03-09_at_9.25.00_PM.png)

I've glossed over how I created the Flow, but it went through a couple iterations. Basically, I built a function that picks a random, whole, positive number in a simple equation that always returned a whole and positive number as an answer. It's running in a Twilio Function that is run during the call, so there is sometimes a longer pause because it has to run the function a few times if one of the conditions isn't met. I'm sure there are better ways to accomplish it, but this works for me. The entire interaction is less than 30 seconds. 

After that I needed a way in Home-Assistant to trigger the REST command and ultimately in an automation.

# Home-Assistant REST Command:

This REST command triggers a phone call to the number specified in it. 

```yaml

rest_command:
  twilio_alarm:
    url: "https://studio.twilio.com/v2/Flows/FW79cc6cc54bddc17e431f9e3d27fe8da1/Executions"
    method: POST
    headers:
      Content-Type: "application/x-www-form-urlencoded"
    username: ACxxxxxxxxxx9918e978bdb60ca6a90f5c
    password: bxxxxxxxxxxxaf5cc3d655d5fef5cf15b
    payload: "To=+16501234567&From=+14153586870"
# replace the To Number with yours. Leave the From Number as is -- this is the number you‚Äôll get a call from!
# keep the URL the same to use my Flow!
```

# Home-Assistant Automation:

I‚Äôm using Node-Red to trigger my wake up automation. It looks like there‚Äôs a lot going on, but basically I only trigger the the alarm based on certain conditions:
1. A switch on the dashboard is turned on (for example, I turn it off during a holiday)
2. I‚Äôm physically home
3. It‚Äôs a work day at 7am

![Twilio Wake Up Call Node Red Automation](//images.ctfassets.net/o4gibwve10tr/7MbCZsJ4Wh8h9shAFWXmnE/315e516bf3c96483d1cb3fb3f10972a3/Screen_Shot_2021-03-09_at_11.46.22_PM.png)

You can also trigger the REST command with a normal automation within Home-Assistant.

# Triggering a Test Call
During the testing phase, I wanted a button on my dashboard that I could press and trigger the phone call. Unfortunately, it‚Äôs never that easy lol -- I had to use a [custom button-card](https://github.com/custom-cards/button-card) so I could call a service (the REST command) from the button. You can‚Äôt trigger a service from a normal button card!

![Twilio Wake Up Call Button Card](//images.ctfassets.net/o4gibwve10tr/5AhKmNQxvgtI5cfSmly3T2/11fce0bea74e1cbfe41765fdb149a99f/Screen_Shot_2021-03-09_at_11.15.03_PM.png)

# Bonus: Get a landline to connect a ‚Äúold‚Äù telephone

Last thing is I needed a landline. I bought a Grandstream HT801 Analog Telephone Adapter and set it up with Twilio SIP. You can read more about how I set that up in this [blog post](https://michaellunzer.com/blogs/connecting-a-grandstream-ht80x-ht801-or-ht802-to-twilio-sip). I plugged it in, configured it, and then connected it to my home phone network.

Once I did that, I was able to have an old landline telephone connected to the Telephone network with a phone number. 

Now every morning, I get a wake up call and it asks me to do a simple math question. Nothing peaks my anxiety like trying to solve mental math questions on the spot early in the morning! 

![Twilio Wake Up Call phone meme guy picture](//images.ctfassets.net/o4gibwve10tr/1xAIGpLRMafoFJio0ZPMIJ/56eea041fdb2c448df2ddade8b1fda2b/_u_https_3A_2F_2Fd2rd7etdn93tqb.cloudfront.net_2Fwp-content_2Fuploads_2F2018_2F09_2Fhide-your-pain-harold-meme-ph.jpg_f_1_nofb_1)

# Future Ideas

~~It'd be fun to see if I can pull a Quote of the Day from an API to provide morning motivation to users getting ready to wake up.~~

This was added!

# Setting it up for yourself
If you're interested in setting this up for yourself, please contact me. I'm happy to help you set this up and we might be able to set up a way where you can use my Studio Flow and Phone Number. 
5:["$","$L10",null,{"siteInfo":{"metadata":{"tags":[],"concepts":[]},"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"o4gibwve10tr"}},"id":"1vaZauN3G1LbRsJutH3AU9","type":"Entry","createdAt":"2020-05-28T21:29:56.813Z","updatedAt":"2022-04-19T07:19:17.934Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"publishedVersion":45,"revision":18,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"siteInformation"}},"locale":"en-US"},"fields":{"siteName":"Michael Lunzer","siteUrl":"https://michaellunzer.com","logo":{"metadata":{"tags":[],"concepts":[]},"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"o4gibwve10tr"}},"id":"7yHuAa09NVOcZ25POk7cbM","type":"Asset","createdAt":"2020-05-28T21:29:46.445Z","updatedAt":"2020-07-03T23:34:40.696Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"publishedVersion":35,"revision":10,"locale":"en-US"},"fields":{"title":"ML-logo-white","file":{"url":"//images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png","details":{"size":31304,"image":{"width":319,"height":302}},"fileName":"ML-logo-white.png","contentType":"image/png"}}},"twiteerHandle":"@michaellunzer","siteDescription":"Personal Site","menus":["Blogs","Photos","About","Contact","Work","Map","Resume","Projects","Bucket List","Spotify"]}},"children":[null,["$","div",null,{"className":"site-container project-post","children":["$","div",null,{"className":"container","children":[["$","div",null,{"className":"feature-img","children":["$","$L12",null,{"src":"https://images.ctfassets.net/o4gibwve10tr/7i5kV3exwDyVERd9oa2o9t/9d0a868daee3c2ca013942dafb490834/Twilio_Wake_Up_Call.jpg","alt":"Home-Assistant: Wake Up Alarm with a Phone Call","width":1500,"height":800,"className":"img-fluid","style":{"objectFit":"cover","objectPosition":"50% 50%"}}]}],["$","div",null,{"className":"details","children":[["$","h1",null,{"className":"title","children":"Home-Assistant: Wake Up Alarm with a Phone Call"}],["$","span",null,{"className":"date","children":[["$","i",null,{"className":"fas fa-calendar-alt"}]," ","August 2, 2025"]}],["$","$L13",null,{"content":"$14"}]]}],"$L15"]}]}]]}]
16:I[5183,["778","static/chunks/778-f9403c0e33e1c074.js","63","static/chunks/63-b8ba2254fb9ac97a.js","231","static/chunks/231-25f0858d523e67a4.js","419","static/chunks/app/projects/%5Bslug%5D/page-dc1945ed8fd780cb.js"],"default"]
15:["$","$L16",null,{"socialConfig":{"siteurl":"https://michaellunzer.com","twitterHandle":"@michaellunzer","config":{"url":"https://michaellunzer.com/projects/home-assistant-wake-up-alarm-with-a-phone-call","title":"Home-Assistant: Wake Up Alarm with a Phone Call"}}}]
