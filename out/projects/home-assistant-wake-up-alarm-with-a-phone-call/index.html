<!DOCTYPE html><!--bCU5C4Z5V3RSXa88yhwcO--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="https://images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/24A6jFFrZV4iIwCblSEOvA/358fbf5e0421fe5b4fcedc97a649334b/Twilio_3rd_Place__Front_.png"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/2OmKMuuU65yFlvtSEJnxB7/e5541c82fd19a97c5d4fc94275b81ec6/Twilio_3rd_Place__Back_.png"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/6RXjg2TqWnkgjZG04mZeQ8/bfc8980ccf076899a5006012805775bd/_u_http_3A_2F_2Fi.giphy.com_2F3og0ISQyRWLAkOvg6A.gif_f_1_nofb_1"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/31Li8fctiN6m1gZfoXyaFl/6a524701c1a2647899ebb20e2c03ee63/Screen_Shot_2021-03-09_at_9.25.00_PM.png"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/7MbCZsJ4Wh8h9shAFWXmnE/315e516bf3c96483d1cb3fb3f10972a3/Screen_Shot_2021-03-09_at_11.46.22_PM.png"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/5AhKmNQxvgtI5cfSmly3T2/11fce0bea74e1cbfe41765fdb149a99f/Screen_Shot_2021-03-09_at_11.15.03_PM.png"/><link rel="preload" as="image" href="//images.ctfassets.net/o4gibwve10tr/1xAIGpLRMafoFJio0ZPMIJ/56eea041fdb2c448df2ddade8b1fda2b/_u_https_3A_2F_2Fd2rd7etdn93tqb.cloudfront.net_2Fwp-content_2Fuploads_2F2018_2F09_2Fhide-your-pain-harold-meme-ph.jpg_f_1_nofb_1"/><link rel="stylesheet" href="/_next/static/css/931b179cff3131dc.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f56e075401be6041.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/96b2ede580997a88.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/b9c247a1f9d5af8a.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/f055e431c58b907b.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-59b2e0708c30977e.js"/><script src="/_next/static/chunks/4bd1b696-cf72ae8a39fa05aa.js" async=""></script><script src="/_next/static/chunks/964-9b249bc0ac5a9a8b.js" async=""></script><script src="/_next/static/chunks/main-app-f320de467931c2a1.js" async=""></script><script src="/_next/static/chunks/778-f9403c0e33e1c074.js" async=""></script><script src="/_next/static/chunks/63-b8ba2254fb9ac97a.js" async=""></script><script src="/_next/static/chunks/231-25f0858d523e67a4.js" async=""></script><script src="/_next/static/chunks/734-ef6b31103eb86462.js" async=""></script><script src="/_next/static/chunks/app/projects/%5Bslug%5D/page-e9b2fba7deab289a.js" async=""></script><script src="/_next/static/chunks/app/projects/page-e2e8a22ab075e965.js" async=""></script><meta name="next-size-adjust" content=""/><link rel="icon" type="image/x-icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png"/><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png"/><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"/><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><title>Michael Lunzer</title><meta name="description" content="Personal Site"/><meta name="author" content="@michaellunzer"/><meta name="robots" content="index, follow"/><meta property="og:title" content="Michael Lunzer"/><meta property="og:description" content="Personal Site"/><meta property="og:url" content="https://www.michaellunzer.com/"/><meta property="og:site_name" content="Michael Lunzer"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Michael Lunzer"/><meta name="twitter:description" content="Personal Site"/><link rel="stylesheet" href="/style.css"/><link rel="stylesheet" href="/font-awesome.css"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_e8ce0c"><div hidden=""><!--$--><!--/$--></div><header class="site-header "><div class="container"><div class="header-main"><div class="logo"><a href="/"><img src="https://images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png" alt="logo"/></a></div><div class="responsive-menu"><span></span></div><div class="menu"><ul><li><a href="/#home">Home</a></li><li><a href="/#About">About</a></li><li><a href="/#Blogs">Blog</a></li><li><a href="/#Projects">Projects</a></li><li><a href="/#BucketList">Bucket List</a></li><li><a href="/#Contact">Contact</a></li><li><a href="/#Map">Map</a></li><li><a href="/resume/">Resume</a></li><li><a href="/spotify/">Spotify</a></li></ul></div></div></div></header><div><main id="home"><div class="site-container project-post"><div class="container"><div class="feature-img"><img alt="Home-Assistant: Wake Up Alarm with a Phone Call" loading="lazy" width="1500" height="800" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;object-fit:cover;object-position:50% 50%" src="https://images.ctfassets.net/o4gibwve10tr/7i5kV3exwDyVERd9oa2o9t/9d0a868daee3c2ca013942dafb490834/Twilio_Wake_Up_Call.jpg"/></div><div class="details"><h1 class="title">Home-Assistant: Wake Up Alarm with a Phone Call</h1><span class="date"><i class="fas fa-calendar-alt"></i> <!-- -->March 9, 2021</span><div class="markdown-content"><h1 class="markdown-h1">Video Demo:</h1>
<p node="[object Object]"><div class="youtube-link-container"><div class="youtube-embed-container"><iframe width="100%" height="315" src="https://www.youtube.com/embed/FxJ2FqBKSSE" title="YouTube video player" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen=""></iframe></div><a href="https://youtu.be/FxJ2FqBKSSE" target="_blank" rel="noopener noreferrer" class="markdown-link youtube-link">https://youtu.be/FxJ2FqBKSSE</a></div></p>
<h1 class="markdown-h1">Update 2/25/2022</h1>
<p node="[object Object]">I put together the video above and presented the project during the Twilio Services Kickoff Demo Jam competition -- I got 3rd place! Woohoo🥉</p>
<p node="[object Object]"><img src="//images.ctfassets.net/o4gibwve10tr/24A6jFFrZV4iIwCblSEOvA/358fbf5e0421fe5b4fcedc97a649334b/Twilio_3rd_Place__Front_.png" alt="Twilio 3rd Place (Front)"/></p>
<p node="[object Object]"><img src="//images.ctfassets.net/o4gibwve10tr/2OmKMuuU65yFlvtSEJnxB7/e5541c82fd19a97c5d4fc94275b81ec6/Twilio_3rd_Place__Back_.png" alt="Twilio 3rd Place (Back)"/></p>
<h1 class="markdown-h1">Motivation:</h1>
<p node="[object Object]">Sometimes it&#x27;s hard for me to get out of bed in the morning. I&#x27;ve tried a ton of things:</p>
<ul class="markdown-ul">
<li>Waking up to music</li>
<li>Automations that turn the lights on gently to simulate a sunrise</li>
<li>Setting multiple alarms across the room</li>
<li>An <a href="https://www.reddit.com/r/GetMotivatedBuddies/" target="_blank" rel="noopener noreferrer" class="markdown-link">Accountability Buddy</a> / Internet Stranger to check in with each other in the morning to make sure we&#x27;re up</li>
<li><a href="https://freeappsforme.com/alarm-clock-apps-with-math-challenges/" target="_blank" rel="noopener noreferrer" class="markdown-link">Apps that ask me to do math problems</a></li>
</ul>
<p node="[object Object]">But I always enjoyed getting the wake up call on business trips. Going off of that idea, I set up a landline in my house and acquired a really <del>annoying</del> loud phone with an actual bell to call me in the morning and wake me up with a quick math problem to get my brain activity going.</p>
<p node="[object Object]">If this doesn’t work, I’ll have to look into making an ejector bed lol</p>
<p node="[object Object]"><img src="//images.ctfassets.net/o4gibwve10tr/6RXjg2TqWnkgjZG04mZeQ8/bfc8980ccf076899a5006012805775bd/_u_http_3A_2F_2Fi.giphy.com_2F3og0ISQyRWLAkOvg6A.gif_f_1_nofb_1" alt="Twilio Wake Up Call ejector bed gif"/></p>
<h1 class="markdown-h1">Try it out yourself:</h1>
<p node="[object Object]"><strong>Call this number:</strong> (415) 358-6870</p>
<p node="[object Object]">It will ask you a simple math question and tell you if you’re right or wrong. If you get scared talking to people on the phone, don’t be. It’s just a robot on the other side.</p>
<h1 class="markdown-h1">Getting Started on the Twilio Console</h1>
<p node="[object Object]">First, I pulled up the Twilio Console and purchased a phone number ($1/mo)</p>
<p node="[object Object]">Next, I navigated into Twilio Studio and built a Studio Flow that calls you when you hit the Studio Flow URL with a request from Home-Assistant.</p>
<p node="[object Object]"><img src="//images.ctfassets.net/o4gibwve10tr/31Li8fctiN6m1gZfoXyaFl/6a524701c1a2647899ebb20e2c03ee63/Screen_Shot_2021-03-09_at_9.25.00_PM.png" alt="Twilio Wake Up Call Studio Flow"/></p>
<p node="[object Object]">I&#x27;ve glossed over how I created the Flow, but it went through a couple iterations. Basically, I built a function that picks a random, whole, positive number in a simple equation that always returned a whole and positive number as an answer. It&#x27;s running in a Twilio Function that is run during the call, so there is sometimes a longer pause because it has to run the function a few times if one of the conditions isn&#x27;t met. I&#x27;m sure there are better ways to accomplish it, but this works for me. The entire interaction is less than 30 seconds.</p>
<p node="[object Object]">After that I needed a way in Home-Assistant to trigger the REST command and ultimately in an automation.</p>
<h1 class="markdown-h1">Home-Assistant REST Command:</h1>
<p node="[object Object]">This REST command triggers a phone call to the number specified in it.</p>
<pre><pre class="code-block"><code class="hljs language-yaml">
<span class="hljs-attr">rest_command:</span>
  <span class="hljs-attr">twilio_alarm:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">&quot;https://studio.twilio.com/v2/Flows/FW79cc6cc54bddc17e431f9e3d27fe8da1/Executions&quot;</span>
    <span class="hljs-attr">method:</span> <span class="hljs-string">POST</span>
    <span class="hljs-attr">headers:</span>
      <span class="hljs-attr">Content-Type:</span> <span class="hljs-string">&quot;application/x-www-form-urlencoded&quot;</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">ACxxxxxxxxxx9918e978bdb60ca6a90f5c</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">bxxxxxxxxxxxaf5cc3d655d5fef5cf15b</span>
    <span class="hljs-attr">payload:</span> <span class="hljs-string">&quot;To=+16501234567&amp;From=+14153586870&quot;</span>
<span class="hljs-comment"># replace the To Number with yours. Leave the From Number as is -- this is the number you’ll get a call from!</span>
<span class="hljs-comment"># keep the URL the same to use my Flow!</span>
</code></pre></pre>
<h1 class="markdown-h1">Home-Assistant Automation:</h1>
<p node="[object Object]">I’m using Node-Red to trigger my wake up automation. It looks like there’s a lot going on, but basically I only trigger the the alarm based on certain conditions:</p>
<ol class="markdown-ol">
<li>A switch on the dashboard is turned on (for example, I turn it off during a holiday)</li>
<li>I’m physically home</li>
<li>It’s a work day at 7am</li>
</ol>
<p node="[object Object]"><img src="//images.ctfassets.net/o4gibwve10tr/7MbCZsJ4Wh8h9shAFWXmnE/315e516bf3c96483d1cb3fb3f10972a3/Screen_Shot_2021-03-09_at_11.46.22_PM.png" alt="Twilio Wake Up Call Node Red Automation"/></p>
<p node="[object Object]">You can also trigger the REST command with a normal automation within Home-Assistant.</p>
<h1 class="markdown-h1">Triggering a Test Call</h1>
<p node="[object Object]">During the testing phase, I wanted a button on my dashboard that I could press and trigger the phone call. Unfortunately, it’s never that easy lol -- I had to use a <a href="https://github.com/custom-cards/button-card" target="_blank" rel="noopener noreferrer" class="markdown-link">custom button-card</a> so I could call a service (the REST command) from the button. You can’t trigger a service from a normal button card!</p>
<p node="[object Object]"><img src="//images.ctfassets.net/o4gibwve10tr/5AhKmNQxvgtI5cfSmly3T2/11fce0bea74e1cbfe41765fdb149a99f/Screen_Shot_2021-03-09_at_11.15.03_PM.png" alt="Twilio Wake Up Call Button Card"/></p>
<h1 class="markdown-h1">Bonus: Get a landline to connect a “old” telephone</h1>
<p node="[object Object]">Last thing is I needed a landline. I bought a Grandstream HT801 Analog Telephone Adapter and set it up with Twilio SIP. You can read more about how I set that up in this <a href="https://michaellunzer.com/blogs/connecting-a-grandstream-ht80x-ht801-or-ht802-to-twilio-sip" target="_blank" rel="noopener noreferrer" class="markdown-link">blog post</a>. I plugged it in, configured it, and then connected it to my home phone network.</p>
<p node="[object Object]">Once I did that, I was able to have an old landline telephone connected to the Telephone network with a phone number.</p>
<p node="[object Object]">Now every morning, I get a wake up call and it asks me to do a simple math question. Nothing peaks my anxiety like trying to solve mental math questions on the spot early in the morning!</p>
<p node="[object Object]"><img src="//images.ctfassets.net/o4gibwve10tr/1xAIGpLRMafoFJio0ZPMIJ/56eea041fdb2c448df2ddade8b1fda2b/_u_https_3A_2F_2Fd2rd7etdn93tqb.cloudfront.net_2Fwp-content_2Fuploads_2F2018_2F09_2Fhide-your-pain-harold-meme-ph.jpg_f_1_nofb_1" alt="Twilio Wake Up Call phone meme guy picture"/></p>
<h1 class="markdown-h1">Future Ideas</h1>
<p node="[object Object]"><del>It&#x27;d be fun to see if I can pull a Quote of the Day from an API to provide morning motivation to users getting ready to wake up.</del></p>
<p node="[object Object]">This was added!</p>
<h1 class="markdown-h1">Setting it up for yourself</h1>
<p node="[object Object]">If you&#x27;re interested in setting this up for yourself, please contact me. I&#x27;m happy to help you set this up and we might be able to set up a way where you can use my Studio Flow and Phone Number.</p></div></div><div class="post-social"><h6 class="title is-6">Share:</h6><button class="button is-outlined is-rounded facebook"><span class="icon"><i class="fab fa-facebook-f"></i></span><span class="text">Facebook</span></button><button class="button is-outlined is-rounded twitter"><span class="icon"><i class="fab fa-twitter"></i></span><span class="text">Twitter</span></button></div></div></div></main></div><div class="site-footer" id="footer"><div class="container"><span>Copyright © <!-- -->Michael Lunzer<!-- --> <!-- -->2025</span></div></div><!--$--><!--/$--><script src="/_next/static/chunks/webpack-59b2e0708c30977e.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7555,[],\"\"]\n3:I[1295,[],\"\"]\n6:I[9665,[],\"OutletBoundary\"]\n8:I[4911,[],\"AsyncMetadataOutlet\"]\na:I[9665,[],\"ViewportBoundary\"]\nc:I[9665,[],\"MetadataBoundary\"]\nd:\"$Sreact.suspense\"\nf:I[8393,[],\"\"]\n:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/931b179cff3131dc.css\",\"style\"]\n:HL[\"/_next/static/css/f56e075401be6041.css\",\"style\"]\n:HL[\"/_next/static/css/96b2ede580997a88.css\",\"style\"]\n:HL[\"/_next/static/css/b9c247a1f9d5af8a.css\",\"style\"]\n:HL[\"/_next/static/css/f055e431c58b907b.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"bCU5C4Z5V3RSXa88yhwcO\",\"p\":\"\",\"c\":[\"\",\"projects\",\"home-assistant-wake-up-alarm-with-a-phone-call\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"projects\",{\"children\":[[\"slug\",\"home-assistant-wake-up-alarm-with-a-phone-call\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/931b179cff3131dc.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f56e075401be6041.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/x-icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"32x32\",\"href\":\"/favicon-32x32.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"180x180\",\"href\":\"/apple-touch-icon-180x180.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"152x152\",\"href\":\"/apple-touch-icon-152x152.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"144x144\",\"href\":\"/apple-touch-icon-144x144.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"120x120\",\"href\":\"/apple-touch-icon-120x120.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"114x114\",\"href\":\"/apple-touch-icon-114x114.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"76x76\",\"href\":\"/apple-touch-icon-76x76.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"72x72\",\"href\":\"/apple-touch-icon-72x72.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"57x57\",\"href\":\"/apple-touch-icon-57x57.png\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-touch-icon.png\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/style.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/font-awesome.css\"}]]}],[\"$\",\"body\",null,{\"className\":\"__className_e8ce0c\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$L4\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/96b2ede580997a88.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b9c247a1f9d5af8a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[\"projects\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"home-assistant-wake-up-alarm-with-a-phone-call\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/96b2ede580997a88.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b9c247a1f9d5af8a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f055e431c58b907b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"promise\":\"$@9\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]],[\"$\",\"$Lc\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$d\",null,{\"fallback\":null,\"children\":\"$Le\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$f\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"9:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Personal Site\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"@michaellunzer\"}],[\"$\",\"meta\",\"3\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"Personal Site\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:url\",\"content\":\"https://www.michaellunzer.com/\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:site_name\",\"content\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:title\",\"content\":\"Michael Lunzer\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:description\",\"content\":\"Personal Site\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"e:\"$9:metadata\"\n"])</script><script>self.__next_f.push([1,"10:I[658,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"734\",\"static/chunks/734-ef6b31103eb86462.js\",\"419\",\"static/chunks/app/projects/%5Bslug%5D/page-e9b2fba7deab289a.js\"],\"default\"]\n11:I[6874,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"893\",\"static/chunks/app/projects/page-e2e8a22ab075e965.js\"],\"\"]\n12:I[3063,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"734\",\"static/chunks/734-ef6b31103eb86462.js\",\"419\",\"static/chunks/app/projects/%5Bslug%5D/page-e9b2fba7deab289a.js\"],\"Image\"]\n13:I[2370,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"734\",\"static/chunks/734-ef6b31103eb86462.js\",\"419\",\"static/chunks/app/projects/%5Bslug%5D/page-e9b2fba7deab289a.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"$L10\",null,{\"siteInfo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"1vaZauN3G1LbRsJutH3AU9\",\"type\":\"Entry\",\"createdAt\":\"2020-05-28T21:29:56.813Z\",\"updatedAt\":\"2022-04-19T07:19:17.934Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":45,\"revision\":18,\"contentType\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"ContentType\",\"id\":\"siteInformation\"}},\"locale\":\"en-US\"},\"fields\":{\"siteName\":\"Michael Lunzer\",\"siteUrl\":\"https://michaellunzer.com\",\"logo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"7yHuAa09NVOcZ25POk7cbM\",\"type\":\"Asset\",\"createdAt\":\"2020-05-28T21:29:46.445Z\",\"updatedAt\":\"2020-07-03T23:34:40.696Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":35,\"revision\":10,\"locale\":\"en-US\"},\"fields\":{\"title\":\"ML-logo-white\",\"file\":{\"url\":\"//images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png\",\"details\":{\"size\":31304,\"image\":{\"width\":319,\"height\":302}},\"fileName\":\"ML-logo-white.png\",\"contentType\":\"image/png\"}}},\"twiteerHandle\":\"@michaellunzer\",\"siteDescription\":\"Personal Site\",\"menus\":[\"Blogs\",\"Photos\",\"About\",\"Contact\",\"Work\",\"Map\",\"Resume\",\"Projects\",\"Bucket List\",\"Spotify\"]}},\"children\":[null,[\"$\",\"div\",null,{\"className\":\"site-container\",\"children\":[\"$\",\"div\",null,{\"className\":\"container\",\"children\":[\"$\",\"div\",null,{\"className\":\"row\",\"children\":[\"$\",\"div\",null,{\"className\":\"col-sm-12 text-center\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"404 - Page Not Found\"}],[\"$\",\"p\",null,{\"children\":\"The page you're looking for doesn't exist.\"}],[\"$\",\"$L11\",null,{\"href\":\"/\",\"className\":\"btn btn-primary\",\"children\":\"Go back home\"}]]}]}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"14:T17b3,"])</script><script>self.__next_f.push([1,"# Video Demo:\n\nhttps://youtu.be/FxJ2FqBKSSE\n\n# Update 2/25/2022\n\nI put together the video above and presented the project during the Twilio Services Kickoff Demo Jam competition -- I got 3rd place! Woohoo🥉\n\n![Twilio 3rd Place (Front)](//images.ctfassets.net/o4gibwve10tr/24A6jFFrZV4iIwCblSEOvA/358fbf5e0421fe5b4fcedc97a649334b/Twilio_3rd_Place__Front_.png)\n\n![Twilio 3rd Place (Back)](//images.ctfassets.net/o4gibwve10tr/2OmKMuuU65yFlvtSEJnxB7/e5541c82fd19a97c5d4fc94275b81ec6/Twilio_3rd_Place__Back_.png)\n\n# Motivation:\n\nSometimes it's hard for me to get out of bed in the morning. I've tried a ton of things: \n- Waking up to music\n- Automations that turn the lights on gently to simulate a sunrise\n- Setting multiple alarms across the room\n- An [Accountability Buddy](https://www.reddit.com/r/GetMotivatedBuddies/) / Internet Stranger to check in with each other in the morning to make sure we're up\n- [Apps that ask me to do math problems](https://freeappsforme.com/alarm-clock-apps-with-math-challenges/)\n\nBut I always enjoyed getting the wake up call on business trips. Going off of that idea, I set up a landline in my house and acquired a really ~~annoying~~ loud phone with an actual bell to call me in the morning and wake me up with a quick math problem to get my brain activity going. \n\nIf this doesn’t work, I’ll have to look into making an ejector bed lol \n\n![Twilio Wake Up Call ejector bed gif](//images.ctfassets.net/o4gibwve10tr/6RXjg2TqWnkgjZG04mZeQ8/bfc8980ccf076899a5006012805775bd/_u_http_3A_2F_2Fi.giphy.com_2F3og0ISQyRWLAkOvg6A.gif_f_1_nofb_1)\n\n# Try it out yourself:\n__Call this number:__ (415) 358-6870\n\nIt will ask you a simple math question and tell you if you’re right or wrong. If you get scared talking to people on the phone, don’t be. It’s just a robot on the other side.\n\n# Getting Started on the Twilio Console\n\nFirst, I pulled up the Twilio Console and purchased a phone number ($1/mo)\n\nNext, I navigated into Twilio Studio and built a Studio Flow that calls you when you hit the Studio Flow URL with a request from Home-Assistant.\n\n![Twilio Wake Up Call Studio Flow](//images.ctfassets.net/o4gibwve10tr/31Li8fctiN6m1gZfoXyaFl/6a524701c1a2647899ebb20e2c03ee63/Screen_Shot_2021-03-09_at_9.25.00_PM.png)\n\nI've glossed over how I created the Flow, but it went through a couple iterations. Basically, I built a function that picks a random, whole, positive number in a simple equation that always returned a whole and positive number as an answer. It's running in a Twilio Function that is run during the call, so there is sometimes a longer pause because it has to run the function a few times if one of the conditions isn't met. I'm sure there are better ways to accomplish it, but this works for me. The entire interaction is less than 30 seconds. \n\nAfter that I needed a way in Home-Assistant to trigger the REST command and ultimately in an automation.\n\n# Home-Assistant REST Command:\n\nThis REST command triggers a phone call to the number specified in it. \n\n```yaml\n\nrest_command:\n  twilio_alarm:\n    url: \"https://studio.twilio.com/v2/Flows/FW79cc6cc54bddc17e431f9e3d27fe8da1/Executions\"\n    method: POST\n    headers:\n      Content-Type: \"application/x-www-form-urlencoded\"\n    username: ACxxxxxxxxxx9918e978bdb60ca6a90f5c\n    password: bxxxxxxxxxxxaf5cc3d655d5fef5cf15b\n    payload: \"To=+16501234567\u0026From=+14153586870\"\n# replace the To Number with yours. Leave the From Number as is -- this is the number you’ll get a call from!\n# keep the URL the same to use my Flow!\n```\n\n# Home-Assistant Automation:\n\nI’m using Node-Red to trigger my wake up automation. It looks like there’s a lot going on, but basically I only trigger the the alarm based on certain conditions:\n1. A switch on the dashboard is turned on (for example, I turn it off during a holiday)\n2. I’m physically home\n3. It’s a work day at 7am\n\n![Twilio Wake Up Call Node Red Automation](//images.ctfassets.net/o4gibwve10tr/7MbCZsJ4Wh8h9shAFWXmnE/315e516bf3c96483d1cb3fb3f10972a3/Screen_Shot_2021-03-09_at_11.46.22_PM.png)\n\nYou can also trigger the REST command with a normal automation within Home-Assistant.\n\n# Triggering a Test Call\nDuring the testing phase, I wanted a button on my dashboard that I could press and trigger the phone call. Unfortunately, it’s never that easy lol -- I had to use a [custom button-card](https://github.com/custom-cards/button-card) so I could call a service (the REST command) from the button. You can’t trigger a service from a normal button card!\n\n![Twilio Wake Up Call Button Card](//images.ctfassets.net/o4gibwve10tr/5AhKmNQxvgtI5cfSmly3T2/11fce0bea74e1cbfe41765fdb149a99f/Screen_Shot_2021-03-09_at_11.15.03_PM.png)\n\n# Bonus: Get a landline to connect a “old” telephone\n\nLast thing is I needed a landline. I bought a Grandstream HT801 Analog Telephone Adapter and set it up with Twilio SIP. You can read more about how I set that up in this [blog post](https://michaellunzer.com/blogs/connecting-a-grandstream-ht80x-ht801-or-ht802-to-twilio-sip). I plugged it in, configured it, and then connected it to my home phone network.\n\nOnce I did that, I was able to have an old landline telephone connected to the Telephone network with a phone number. \n\nNow every morning, I get a wake up call and it asks me to do a simple math question. Nothing peaks my anxiety like trying to solve mental math questions on the spot early in the morning! \n\n![Twilio Wake Up Call phone meme guy picture](//images.ctfassets.net/o4gibwve10tr/1xAIGpLRMafoFJio0ZPMIJ/56eea041fdb2c448df2ddade8b1fda2b/_u_https_3A_2F_2Fd2rd7etdn93tqb.cloudfront.net_2Fwp-content_2Fuploads_2F2018_2F09_2Fhide-your-pain-harold-meme-ph.jpg_f_1_nofb_1)\n\n# Future Ideas\n\n~~It'd be fun to see if I can pull a Quote of the Day from an API to provide morning motivation to users getting ready to wake up.~~\n\nThis was added!\n\n# Setting it up for yourself\nIf you're interested in setting this up for yourself, please contact me. I'm happy to help you set this up and we might be able to set up a way where you can use my Studio Flow and Phone Number. \n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"$L10\",null,{\"siteInfo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"1vaZauN3G1LbRsJutH3AU9\",\"type\":\"Entry\",\"createdAt\":\"2020-05-28T21:29:56.813Z\",\"updatedAt\":\"2022-04-19T07:19:17.934Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":45,\"revision\":18,\"contentType\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"ContentType\",\"id\":\"siteInformation\"}},\"locale\":\"en-US\"},\"fields\":{\"siteName\":\"Michael Lunzer\",\"siteUrl\":\"https://michaellunzer.com\",\"logo\":{\"metadata\":{\"tags\":[],\"concepts\":[]},\"sys\":{\"space\":{\"sys\":{\"type\":\"Link\",\"linkType\":\"Space\",\"id\":\"o4gibwve10tr\"}},\"id\":\"7yHuAa09NVOcZ25POk7cbM\",\"type\":\"Asset\",\"createdAt\":\"2020-05-28T21:29:46.445Z\",\"updatedAt\":\"2020-07-03T23:34:40.696Z\",\"environment\":{\"sys\":{\"id\":\"master\",\"type\":\"Link\",\"linkType\":\"Environment\"}},\"publishedVersion\":35,\"revision\":10,\"locale\":\"en-US\"},\"fields\":{\"title\":\"ML-logo-white\",\"file\":{\"url\":\"//images.ctfassets.net/o4gibwve10tr/7yHuAa09NVOcZ25POk7cbM/9b2cb1a82fcec0461a26b030df8ed159/ML-logo-white.png\",\"details\":{\"size\":31304,\"image\":{\"width\":319,\"height\":302}},\"fileName\":\"ML-logo-white.png\",\"contentType\":\"image/png\"}}},\"twiteerHandle\":\"@michaellunzer\",\"siteDescription\":\"Personal Site\",\"menus\":[\"Blogs\",\"Photos\",\"About\",\"Contact\",\"Work\",\"Map\",\"Resume\",\"Projects\",\"Bucket List\",\"Spotify\"]}},\"children\":[null,[\"$\",\"div\",null,{\"className\":\"site-container project-post\",\"children\":[\"$\",\"div\",null,{\"className\":\"container\",\"children\":[[\"$\",\"div\",null,{\"className\":\"feature-img\",\"children\":[\"$\",\"$L12\",null,{\"src\":\"https://images.ctfassets.net/o4gibwve10tr/7i5kV3exwDyVERd9oa2o9t/9d0a868daee3c2ca013942dafb490834/Twilio_Wake_Up_Call.jpg\",\"alt\":\"Home-Assistant: Wake Up Alarm with a Phone Call\",\"width\":1500,\"height\":800,\"className\":\"img-fluid\",\"style\":{\"objectFit\":\"cover\",\"objectPosition\":\"50% 50%\"}}]}],[\"$\",\"div\",null,{\"className\":\"details\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"title\",\"children\":\"Home-Assistant: Wake Up Alarm with a Phone Call\"}],[\"$\",\"span\",null,{\"className\":\"date\",\"children\":[[\"$\",\"i\",null,{\"className\":\"fas fa-calendar-alt\"}],\" \",\"March 9, 2021\"]}],[\"$\",\"$L13\",null,{\"content\":\"$14\"}]]}],\"$L15\"]}]}]]}]\n"])</script><script>self.__next_f.push([1,"16:I[5183,[\"778\",\"static/chunks/778-f9403c0e33e1c074.js\",\"63\",\"static/chunks/63-b8ba2254fb9ac97a.js\",\"231\",\"static/chunks/231-25f0858d523e67a4.js\",\"734\",\"static/chunks/734-ef6b31103eb86462.js\",\"419\",\"static/chunks/app/projects/%5Bslug%5D/page-e9b2fba7deab289a.js\"],\"default\"]\n15:[\"$\",\"$L16\",null,{\"socialConfig\":{\"siteurl\":\"https://michaellunzer.com\",\"twitterHandle\":\"@michaellunzer\",\"config\":{\"url\":\"https://michaellunzer.com/projects/home-assistant-wake-up-alarm-with-a-phone-call\",\"title\":\"Home-Assistant: Wake Up Alarm with a Phone Call\"}}}]\n"])</script></body></html>